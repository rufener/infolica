<div class="emoluments" v-if="emolumentsUnits.length > 0 && Object.keys(form_detail).length > 0">

    <md-dialog :md-active.sync="showEmolumentsDialog" :md-click-outside-to-close="false" :md-close-on-esc="false">
      <md-dialog-title class="justifyTitleBtn">
        <div class="md-title">Émoluments <span v-if="form_general && form_general.id"> (id: {{ form_general.id }})</span></div>
        <div>
          <md-switch v-model="form_general.utilise" @change="updateUsed" class="md-accent" title="Bloquer l'émolument" :disabled="!permission.editEmolumentFreeze" v-if="form_general && form_general.id"><md-icon class="material-icons-outlined md-accent">{{ form_general.utilise===true? 'lock': 'lock_open' }}</md-icon></md-switch>
          <md-button class="md-primary md-elevation-2" v-if="form_general.id" @click="downloadEmoluments()" title="Génère le tableau des émoluments en PDF"><md-icon>file_download</md-icon> Télécharger le PDF</md-button>
          <md-button class="md-accent md-raised" :disabled="disabled || !form_general.id" @click="onRemoveEmolumentAffaire(form_general.id)" title="Supprime définitivement l'émolument"><md-icon>delete</md-icon> Supprimer</md-button>
        </div>
      </md-dialog-title>
      <md-dialog-content>
        <md-progress-bar md-mode="indeterminate" v-if="showProgressBar"></md-progress-bar>

        <md-tabs md-dynamic-height>
          <md-tab md-label="Général">
            <div class="md-gutter md-layout md-alignment-top-space-between">
              <div class="md-layout-item" style="width: 400px;">
                <md-field class="formField">
                  <label>Type d'émolument</label>
                  <md-select :disabled="disabled" v-model="form_general.facture_type_id" md-dense>
                    <md-option v-for="item in factureTypes" :value="item.id">{{ item.nom }}</md-option>
                  </md-select>
                </md-field>
              </div>

              <div class="md-layout-item" v-if="affaire.type_id === typesAffaires_conf.cadastration" style="width: 400px;">
                <h3>Bien-fonds</h3>

                  <md-table v-model="numeros_references" md-card @md-selected="onSelectBFReferences" :md-selected-value.sync="form_general.numeros" >
                    <md-table-row slot="md-table-row" slot-scope="{ item }" md-selectable="multiple" md-auto-select>
                      <md-table-cell md-label="Cadastre">{{ item.numero_cadastre }}</md-table-cell>
                      <md-table-cell md-label="Numéro">{{ item.numero }}</md-table-cell>
                    </md-table-row>
                  </md-table>
              </div>
            </div>
            
            <br>
            <br>

            <div class="md-layout md-alignment-top-space-between">
              <div class="md-layout-item">
                <h3>Bâtiments</h3>
                <table class="tg" style="width: 200px;">
                  <thead v-if="form_general.nb_batiments>0">
                    <tr>
                      <th colspan="2" class="overHead">
                        <md-icon>warning</md-icon>
                        Indiquer les surfaces des bâtiments dans l'ordre du plus grand au plus petit.
                      </th>
                    </tr>
                    <tr>
                      <th class="tg-0lax alignCenter">Bâtiment</th>
                      <th class="tg-0lax alignCenter">Facteur correctif</th>
                    </tr>
                  </thead>
                  <tbody>
                    <tr v-for="i in form_general.nb_batiments">
                      <td class="tg-0lax alignCenter">{{ i }}</td>
                      <td class="tg-0lax">
                        <md-field class="nbField">
                          <md-select :disabled="disabled" v-model="form_general.batiment_f[i-1]" md-dense @md-selected="updateBatimentCorrectionFactor()">
                            <md-option :value="1.5">1.5 (>1000m2)</md-option>
                            <md-option :value="1.4">1.4 (751-1000m2)</md-option>
                            <md-option :value="1.3">1.3 (501-750m2)</md-option>
                            <md-option :value="1.2">1.2 (401-500m2)</md-option>
                            <md-option :value="1.1">1.1 (301-400m2)</md-option>
                            <md-option :value="1.0">1.0 (251-300m2)</md-option>
                            <md-option :value="0.9">0.9 (201-250m2)</md-option>
                            <md-option :value="0.8">0.8 (151-200m2)</md-option>
                            <md-option :value="0.7">0.7 (101-150m2)</md-option>
                            <md-option :value="0.6">0.6 (51-100m2)</md-option>
                            <md-option :value="0.5">0.5 (1-50m2)</md-option>
                          </md-select>
                        </md-field>
                      </td>
                      <td class="tg-0lax alignCenter" v-if="!disabled">
                        <md-button class="md-dense md-accent" style="min-width: auto;" title="Supprimer le bâtiment" @click="removeBatiment(i)"><md-icon>delete</md-icon></md-button>
                      </td>
                    </tr>
                    <tr v-if="!disabled">
                      <td class="tg-0lax alignRight" style="border: 0px" colspan="3"><em>Ajouter un bâtiment</em> <md-button style="min-width: auto;" class="md-dense md-primary" @click="addBatiment" title="Ajouter un bâtiment"><md-icon>add</md-icon></md-button></td>
                    </tr>
                  </tbody>
                </table>
            </div>

              <div class="md-layout-item">
                <md-field class="formField">
                  <label>Pente [%]</label>
                  <md-input :disabled="disabled" v-model="form_general.pente_pc" @keyup="computeZi()" @focus="$event.target.select()" onkeypress="return /[0-9]|[.]/g.test(event.key)"></md-input>
                  <span style="margin-left: 3px;">%</span>
                </md-field>

                <md-field class="formField">
                  <label>Diff. visibilité</label>
                  <md-select :disabled="disabled" v-model="form_general.diff_visibilite_pc" md-dense @md-selected="computeZi()">
                    <md-option :value="0">0%</md-option>
                    <md-option :value="10">10%</md-option>
                    <md-option :value="20">20%</md-option>
                  </md-select>
                </md-field>

                <md-field class="formField">
                  <label>Trafic</label>
                  <md-select :disabled="disabled" v-model="form_general.trafic_pc" md-dense @md-selected="computeZi()">
                    <md-option :value="0">0%</md-option>
                    <md-option :value="10">10%</md-option>
                    <md-option :value="20">20%</md-option>
                    <md-option :value="30">30%</md-option>
                    <md-option :value="40">40%</md-option>
                  </md-select>
                </md-field>

                <md-field class=formField>
                  <label>Zi</label>
                  <md-input :disabled="disabled" v-model="form_general.zi" readonly></md-input>
                </md-field>
              </div>

            </div>

            
              <!-- Définition de répartition des factures -->
            <div v-if="form_general.facture_type_id === configFactureTypeID.facture">
              <h3>Répartition des émoluments dans les factures</h3>
              <div v-if="emolument_facture_repartition_ctrl" style="color: red;"><em>
                Vérifier la répartition dans les factures, dont le total ne vaut pas 100%.<br>
                Si les parts impliquent des nombres à virgule, écrire une approximation à 2 chiffres après la virgule (33.33% et 66.66% par exemple). 
              </em></div>

              <md-table v-model="factures_repartition" md-card>
                <md-table-empty-state
                  md-label="Aucune facture trouvée"
                  md-description="Enregistrer d'abord la facture vide avant de récupérer les montants des émoluments" />
                <md-table-row slot="md-table-row" slot-scope="{ item }">
                  <md-table-cell md-label="Client">{{ item.adresse_facturation_ }}</md-table-cell>
                  <md-table-cell md-label="Bien-fonds" v-if="affaire.type_id === typesAffaires_conf.cadastration">{{ item.numeros.join(", ") }}</md-table-cell>
                  <md-table-cell md-label="MO">{{ item.montant_mo }} CHF</md-table-cell>
                  <md-table-cell md-label="Mat Diff">{{ item.montant_mat_diff }} CHF</md-table-cell>
                  <md-table-cell md-label="RF">{{ item.montant_rf }} CHF</md-table-cell>
                  <md-table-cell md-label="TVA">{{ item.montant_tva }} CHF</md-table-cell>
                  <md-table-cell md-label="Total">{{ item.montant_total }} CHF</md-table-cell>
                  <md-table-cell md-label="Remarque" v-if="affaire.type_id === typesAffaires_conf.cadastration">{{ item.remarque? item.remarque: "—" }}</md-table-cell>
                  <md-table-cell md-label="Répartition">
                    <md-field class="nbField" style="width: 50px;">
                      <md-input v-model ="item.emolument_repartition"
                        class="nbInput"
                        onkeypress="return /[0-9]|[.]/g.test(event.key)"
                        @keyup="updateFactureRepartition"
                        v-bind:class="{ repartitionFaux: emolument_facture_repartition_ctrl === true, repartitionJuste: emolument_facture_repartition_ctrl === false }"
                        :disabled="disabled"></md-input>
                      <span class="md-suffix" style="line-height: 20px;">%</span>
                    </md-field>
                  </md-table-cell>
                </md-table-row>
              </md-table>

              <div v-if="permission.showEmolumentRepartition_saveToFactures_btn">
                <md-button @click="onSaveEmolumentsRepartitions" class="md-raised md-accent" title="Cette action enregistre les montants dans les factures et clôt le tableau des émoluments de manière définitive.">Transférer les montants vers les factures (secrétariat)</md-button>
              </div>
            </div>
          </md-tab>


          
          <md-tab md-label="Tableau des émoluments" ref="tabRecapitulatif">
            <table class="tg customTable" id="tableau_emoluments">
              <thead class="customTableHead">
                <template v-if="form_general.nb_batiments > 0">
                  <tr>
                    <th class="tg-0lax alignCenter" colspan="7"></th>
                    <template v-for="i in form_general.nb_batiments">
                      <th class="tg-0lax batiment-separator alignCenter" colspan="2">Bâtiment {{i}} (f = {{ form_general.batiment_f[i-1] }})</th>
                    </template>
                  </tr>
                </template>
                <tr>
                  <th class="chapter"></th>
                  <th class="tg-0lax alignCenter code">Code</th>
                  <th class="tg-0lax alignCenter position">Position</th>
                  <th class="tg-0lax alignCenter unite">Unité</th>
                  <th class="tg-0lax alignCenter prix_unitaire">Prix unit.</th>
                  <th class="tg-0lax alignCenter nombre">Nombre</th>
                  <th class="tg-0lax alignCenter montant">Montant</th>
                  <template v-for="i in form_general.nb_batiments">
                    <th class="tg-0lax batiment-separator alignCenter nombre">Nombre</th>
                    <th class="tg-0lax alignCenter montant">Montant</th>
                  </template>
                </tr>
              </thead>
              <tbody class="customTableBody">
                <tr class="rowChapterDistinction">
                  <td class="chapter" rowspan="8" style="background-color: rgba(34, 139, 34, 0.5);">1. Mandat</td>
                  <td class="tg-0lax code">.1</td>
                  <td class="tg-0lax position">{{ form_detail.mandat1.nom }}</td>
                  <td class="tg-0lax alignCenter unite">{{ form_detail.mandat1.unite }}</td>
                  <td class="tg-0lax alignRight prix_unitaire">{{ form_detail.mandat1.prix_unitaire }} CHF</td>
                  <td class="tg-0lax nombre"><md-field class="nbField"><md-input :disabled="disabled" v-model="form_detail.mandat1.nombre" class="nbInput" v-bind:class="{ highlightEmolument: Number(form_detail.mandat1.nombre)>0, hideNulls: Number(form_detail.mandat1.nombre)==0 }" @keyup="updateMontants()" @focus="$event.target.select()" onkeypress="return /[0-9]|[.]/g.test(event.key)"></md-input></md-field></td>
                  <td class="tg-0lax montant alignRight"><span v-if="Number(form_detail.mandat1.montant>0)">{{ form_detail.mandat1.montant }} CHF</span></td>
                  <template v-for="i in form_general.nb_batiments">
                    <td class="tg-0lax nombre batiment-separator notEditable"></td>
                    <td class="tg-0lax montant notEditable"></td>
                  </template>
                </tr>
                <tr>
                  <td class="tg-0lax code">.4</td>
                  <td class="tg-0lax position">{{ form_detail.mandat2.nom }}</td>
                  <td class="tg-0lax alignCenter unite">{{ form_detail.mandat2.unite }}</td>
                  <td class="tg-0lax alignRight prix_unitaire">{{ form_detail.mandat2.prix_unitaire }} CHF</td>
                  <td class="tg-0lax nombre"><md-field class="nbField"><md-input :disabled="disabled" v-model="form_detail.mandat2.nombre" class="nbInput" v-bind:class="{ highlightEmolument: Number(form_detail.mandat2.nombre)>0, hideNulls: Number(form_detail.mandat2.nombre)==0 }" @keyup="updateMontants()" @focus="$event.target.select()" onkeypress="return /[0-9]|[.]/g.test(event.key)"></md-input></md-field></td>
                  <td class="tg-0lax montant alignRight"><span v-if="Number(form_detail.mandat2.montant>0)">{{ form_detail.mandat2.montant }} CHF</span></td>
                  <template v-for="i in form_general.nb_batiments">
                    <td class="tg-0lax nombre batiment-separator notEditable"></td>
                    <td class="tg-0lax montant notEditable"></td>
                  </template>
                </tr>
                <tr>
                  <td class="tg-0lax code">.5</td>
                  <td class="tg-0lax position">{{ form_detail.mandat3.nom }}</td>
                  <td class="tg-0lax alignCenter unite">{{ form_detail.mandat3.unite }}</td>
                  <td class="tg-0lax alignRight prix_unitaire">{{ form_detail.mandat3.prix_unitaire }} CHF</td>
                  <td class="tg-0lax nombre"><md-field class="nbField"><md-input :disabled="disabled" v-model="form_detail.mandat3.nombre" class="nbInput" v-bind:class="{ highlightEmolument: Number(form_detail.mandat3.nombre)>0, hideNulls: Number(form_detail.mandat3.nombre)==0 }" @keyup="updateMontants()" @focus="$event.target.select()" onkeypress="return /[0-9]|[.]/g.test(event.key)"></md-input></md-field></td>
                  <td class="tg-0lax montant alignRight"><span v-if="Number(form_detail.mandat3.montant>0)">{{ form_detail.mandat3.montant }} CHF</span></td>
                  <template v-for="i in form_general.nb_batiments">
                    <td class="tg-0lax nombre batiment-separator notEditable"></td>
                    <td class="tg-0lax montant notEditable"></td>
                  </template>
                </tr>
                <tr>
                  <td class="tg-0lax code">.2</td>
                  <td class="tg-0lax position">{{ form_detail.mandat4.nom }}</td>
                  <td class="tg-0lax alignCenter unite">{{ form_detail.mandat4.unite }}</td>
                  <td class="tg-0lax alignRight prix_unitaire">{{ form_detail.mandat4.prix_unitaire }} CHF</td>
                  <td class="tg-0lax nombre notEditable"></td>
                  <td class="tg-0lax montant alignRight notEditable"></td>
                  <template v-for="i in form_general.nb_batiments">
                    <td class="tg-0lax nombre batiment-separator"><md-field class="nbField"><md-input :disabled="disabled" v-model="form_detail_batiment[i-1].mandat4.nombre" class="nbInput" v-bind:class="{ highlightEmolument: Number(form_detail_batiment[i-1].mandat4.nombre)>0, hideNulls: Number(form_detail_batiment[i-1].mandat4.nombre)==0 }" @keyup="updateMontants()" @focus="$event.target.select()" onkeypress="return /[0-9]|[.]/g.test(event.key)"></md-input></md-field></td>
                    <td class="tg-0lax montant alignRight"><span v-if="Number(form_detail_batiment[i-1].mandat4.montant>0)">{{ form_detail_batiment[i-1].mandat4.montant }} CHF</span></td>
                  </template>
                </tr>
                <tr>
                  <td class="tg-0lax code">.3</td>
                  <td class="tg-0lax position">{{ form_detail.mandat5.nom }}</td>
                  <td class="tg-0lax alignCenter unite">{{ form_detail.mandat5.unite }}</td>
                  <td class="tg-0lax alignRight prix_unitaire">{{ form_detail.mandat5.prix_unitaire }} CHF</td>
                  <td class="tg-0lax nombre"><md-field class="nbField"><md-input :disabled="disabled" v-model="form_detail.mandat5.nombre" class="nbInput" v-bind:class="{ highlightEmolument: Number(form_detail.mandat5.nombre)>0, hideNulls: Number(form_detail.mandat5.nombre)==0 }" @keyup="updateMontants()" @focus="$event.target.select()" onkeypress="return /[0-9]|[.]/g.test(event.key)"></md-input></md-field></td>
                  <td class="tg-0lax montant alignRight"><span v-if="Number(form_detail.mandat5.montant>0)">{{ form_detail.mandat5.montant }} CHF</span></td>
                  <template v-for="i in form_general.nb_batiments">
                    <td class="tg-0lax nombre batiment-separator"><md-field class="nbField"><md-input :disabled="disabled" v-model="form_detail_batiment[i-1].mandat5.nombre" class="nbInput" v-bind:class="{ highlightEmolument: Number(form_detail_batiment[i-1].mandat5.nombre)>0, hideNulls: Number(form_detail_batiment[i-1].mandat5.nombre)==0 }" @keyup="updateMontants()" @focus="$event.target.select()" onkeypress="return /[0-9]|[.]/g.test(event.key)"></md-input></md-field></td>
                    <td class="tg-0lax montant alignRight"><span v-if="Number(form_detail_batiment[i-1].mandat5.montant>0)">{{ form_detail_batiment[i-1].mandat5.montant }} CHF</span></td>
                  </template>
                </tr>
                <tr>
                  <td class="tg-0lax code"></td>
                  <td class="tg-0lax position">{{ form_detail.mandat6.nom }}</td>
                  <td class="tg-0lax alignCenter unite">{{ form_detail.mandat6.unite }}</td>
                  <td class="tg-0lax alignRight prix_unitaire">{{ form_detail.mandat6.prix_unitaire }} CHF</td>
                  <td class="tg-0lax nombre"><md-field class="nbField"><md-input :disabled="disabled" v-model="form_detail.mandat6.nombre" class="nbInput" v-bind:class="{ highlightEmolument: Number(form_detail.mandat6.nombre)>0, hideNulls: Number(form_detail.mandat6.nombre)==0 }" @keyup="updateMontants()" @focus="$event.target.select()" onkeypress="return /[0-9]|[.]/g.test(event.key)"></md-input></md-field></td>
                  <td class="tg-0lax montant alignRight"><span v-if="Number(form_detail.mandat6.montant>0)">{{ form_detail.mandat6.montant }} CHF</span></td>
                  <template v-for="i in form_general.nb_batiments">
                    <td class="tg-0lax nombre batiment-separator"><md-field class="nbField"><md-input :disabled="disabled" v-model="form_detail_batiment[i-1].mandat6.nombre" class="nbInput" v-bind:class="{ highlightEmolument: Number(form_detail_batiment[i-1].mandat6.nombre)>0, hideNulls: Number(form_detail_batiment[i-1].mandat6.nombre)==0 }" @keyup="updateMontants()" @focus="$event.target.select()" onkeypress="return /[0-9]|[.]/g.test(event.key)"></md-input></md-field></td>
                    <td class="tg-0lax montant alignRight"><span v-if="Number(form_detail_batiment[i-1].mandat6.montant>0)">{{ form_detail_batiment[i-1].mandat6.montant }} CHF</span></td>
                  </template>
                </tr>
                <tr>
                  <td class="tg-0pky" colspan="5">Somme</td>
                  <td class="tg-0pky montant alignRight">{{ total.montant_mandat_total }} CHF</td>
                  <template v-for="i in form_general.nb_batiments">
                    <td class="tg-0lax nombre batiment-separator notEditable"></td>
                    <td class="tg-0lax montant alignRight">{{ total.montant_mandat_batiment_total[i-1] }} CHF</td>
                  </template>
                </tr>
                <tr>
                  <td class="tg-0pky" colspan="5">Total intermédiaire</td>
                  <td class="tg-0pky montant montantTotal alignRight">{{ total.montant_mandat_total }} CHF</td>
                  <template v-for="i in form_general.nb_batiments">
                    <td class="tg-0lax nombre batiment-separator alignCenter">x f</td>
                    <td class="tg-0lax montant montantTotal alignRight">{{ total.montant_mandat_batiment_total_f[i-1] }} CHF</td>
                  </template>
                </tr>
                <tr class="rowChapterDistinction">
                  <td class="chapter" :rowspan="Number(form_general.nb_batiments) > 0? 33: 31" style="background-color: rgba(238, 130, 238, 0.5);">2. Terrain</td>
                  <td class="tg-0lax subtitle" :colspan="6 + 2*Number(form_general.nb_batiments)">2.1 Points fixes planimétriques</td>
                </tr>
                <tr>
                  <td class="tg-0lax code">.11</td>
                  <td class="tg-0lax position">{{ form_detail.travauxTerrain1.nom }}</td>
                  <td class="tg-0lax alignCenter unite">{{ form_detail.travauxTerrain1.unite }}</td>
                  <td class="tg-0lax alignRight prix_unitaire">{{ form_detail.travauxTerrain1.prix_unitaire }} CHF</td>
                  <td class="tg-0lax nombre"><md-field class="nbField"><md-input :disabled="disabled" v-model="form_detail.travauxTerrain1.nombre" class="nbInput" v-bind:class="{ highlightEmolument: Number(form_detail.travauxTerrain1.nombre)>0, hideNulls: Number(form_detail.travauxTerrain1.nombre)==0 }" @keyup="updateMontants()" @focus="$event.target.select()" onkeypress="return /[0-9]|[.]/g.test(event.key)"></md-input></md-field></td>
                  <td class="tg-0lax montant alignRight"><span v-if="Number(form_detail.travauxTerrain1.montant>0)">{{ form_detail.travauxTerrain1.montant }} CHF</span></td>
                  <template v-for="i in form_general.nb_batiments">
                    <td class="tg-0lax nombre batiment-separator"><md-field class="nbField"><md-input :disabled="disabled" v-model="form_detail_batiment[i-1].travauxTerrain1.nombre" class="nbInput" v-bind:class="{ highlightEmolument: Number(form_detail_batiment[i-1].travauxTerrain1.nombre)>0, hideNulls: Number(form_detail_batiment[i-1].travauxTerrain1.nombre)==0 }" @keyup="updateMontants()" @focus="$event.target.select()" onkeypress="return /[0-9]|[.]/g.test(event.key)"></md-input></md-field></td>
                    <td class="tg-0lax montant alignRight"><span v-if="Number(form_detail_batiment[i-1].travauxTerrain1.montant>0)">{{ form_detail_batiment[i-1].travauxTerrain1.montant }} CHF</span></td>
                  </template>
                </tr>
                <tr>
                  <td class="tg-0lax code">.12</td>
                  <td class="tg-0lax position">{{ form_detail.travauxTerrain2.nom }}</td>
                  <td class="tg-0lax alignCenter unite">{{ form_detail.travauxTerrain2.unite }}</td>
                  <td class="tg-0lax alignRight prix_unitaire">{{ form_detail.travauxTerrain2.prix_unitaire }} CHF</td>
                  <td class="tg-0lax nombre"><md-field class="nbField"><md-input :disabled="disabled" v-model="form_detail.travauxTerrain2.nombre" class="nbInput" v-bind:class="{ highlightEmolument: Number(form_detail.travauxTerrain2.nombre)>0, hideNulls: Number(form_detail.travauxTerrain2.nombre)==0 }" @keyup="updateMontants()" @focus="$event.target.select()" onkeypress="return /[0-9]|[.]/g.test(event.key)"></md-input></md-field></td>
                  <td class="tg-0lax montant alignRight"><span v-if="Number(form_detail.travauxTerrain2.montant>0)">{{ form_detail.travauxTerrain2.montant }} CHF</span></td>
                  <template v-for="i in form_general.nb_batiments">
                    <td class="tg-0lax nombre batiment-separator"><md-field class="nbField"><md-input :disabled="disabled" v-model="form_detail_batiment[i-1].travauxTerrain2.nombre" class="nbInput" v-bind:class="{ highlightEmolument: Number(form_detail_batiment[i-1].travauxTerrain2.nombre)>0, hideNulls: Number(form_detail_batiment[i-1].travauxTerrain2.nombre)==0 }" @keyup="updateMontants()" @focus="$event.target.select()" onkeypress="return /[0-9]|[.]/g.test(event.key)"></md-input></md-field></td>
                    <td class="tg-0lax montant alignRight"><span v-if="Number(form_detail_batiment[i-1].travauxTerrain2.montant>0)">{{ form_detail_batiment[i-1].travauxTerrain2.montant }} CHF</span></td>
                  </template>
                </tr>
                <tr>
                  <td class="tg-0lax code">.13</td>
                  <td class="tg-0lax position">{{ form_detail.travauxTerrain3.nom }}</td>
                  <td class="tg-0lax alignCenter unite">{{ form_detail.travauxTerrain3.unite }}</td>
                  <td class="tg-0lax alignRight prix_unitaire">{{ form_detail.travauxTerrain3.prix_unitaire }} CHF</td>
                  <td class="tg-0lax nombre"><md-field class="nbField"><md-input :disabled="disabled" v-model="form_detail.travauxTerrain3.nombre" class="nbInput" v-bind:class="{ highlightEmolument: Number(form_detail.travauxTerrain3.nombre)>0, hideNulls: Number(form_detail.travauxTerrain3.nombre)==0 }" @keyup="updateMontants()" @focus="$event.target.select()" onkeypress="return /[0-9]|[.]/g.test(event.key)"></md-input></md-field></td>
                  <td class="tg-0lax montant alignRight"><span v-if="Number(form_detail.travauxTerrain3.montant>0)">{{ form_detail.travauxTerrain3.montant }} CHF</span></td>
                  <template v-for="i in form_general.nb_batiments">
                    <td class="tg-0lax nombre batiment-separator"><md-field class="nbField"><md-input :disabled="disabled" v-model="form_detail_batiment[i-1].travauxTerrain3.nombre" class="nbInput" v-bind:class="{ highlightEmolument: Number(form_detail_batiment[i-1].travauxTerrain3.nombre)>0, hideNulls: Number(form_detail_batiment[i-1].travauxTerrain3.nombre)==0 }" @keyup="updateMontants()" @focus="$event.target.select()" onkeypress="return /[0-9]|[.]/g.test(event.key)"></md-input></md-field></td>
                    <td class="tg-0lax montant alignRight"><span v-if="Number(form_detail_batiment[i-1].travauxTerrain3.montant>0)">{{ form_detail_batiment[i-1].travauxTerrain3.montant }} CHF</span></td>
                  </template>
                </tr>
                <tr>
                  <td class="tg-0lax code">.14</td>
                  <td class="tg-0lax position">{{ form_detail.travauxTerrain4.nom }}</td>
                  <td class="tg-0lax alignCenter unite">{{ form_detail.travauxTerrain4.unite }}</td>
                  <td class="tg-0lax alignRight prix_unitaire">{{ form_detail.travauxTerrain4.prix_unitaire }} CHF</td>
                  <td class="tg-0lax nombre"><md-field class="nbField"><md-input :disabled="disabled" v-model="form_detail.travauxTerrain4.nombre" class="nbInput" v-bind:class="{ highlightEmolument: Number(form_detail.travauxTerrain4.nombre)>0, hideNulls: Number(form_detail.travauxTerrain4.nombre)==0 }" @keyup="updateMontants()" @focus="$event.target.select()" onkeypress="return /[0-9]|[.]/g.test(event.key)"></md-input></md-field></td>
                  <td class="tg-0lax montant alignRight"><span v-if="Number(form_detail.travauxTerrain4.montant>0)">{{ form_detail.travauxTerrain4.montant }} CHF</span></td>
                  <template v-for="i in form_general.nb_batiments">
                    <td class="tg-0lax nombre batiment-separator"><md-field class="nbField"><md-input :disabled="disabled" v-model="form_detail_batiment[i-1].travauxTerrain4.nombre" class="nbInput" v-bind:class="{ highlightEmolument: Number(form_detail_batiment[i-1].travauxTerrain4.nombre)>0, hideNulls: Number(form_detail_batiment[i-1].travauxTerrain4.nombre)==0 }" @keyup="updateMontants()" @focus="$event.target.select()" onkeypress="return /[0-9]|[.]/g.test(event.key)"></md-input></md-field></td>
                    <td class="tg-0lax montant alignRight"><span v-if="Number(form_detail_batiment[i-1].travauxTerrain4.montant>0)">{{ form_detail_batiment[i-1].travauxTerrain4.montant }} CHF</span></td>
                  </template>
                </tr>
                <tr>
                  <td class="tg-0lax code">.15</td>
                  <td class="tg-0lax position">{{ form_detail.travauxTerrain5.nom }}</td>
                  <td class="tg-0lax alignCenter unite">{{ form_detail.travauxTerrain5.unite }}</td>
                  <td class="tg-0lax alignRight prix_unitaire">{{ form_detail.travauxTerrain5.prix_unitaire }} CHF</td>
                  <td class="tg-0lax nombre"><md-field class="nbField"><md-input :disabled="disabled" v-model="form_detail.travauxTerrain5.nombre" class="nbInput" v-bind:class="{ highlightEmolument: Number(form_detail.travauxTerrain5.nombre)>0, hideNulls: Number(form_detail.travauxTerrain5.nombre)==0 }" @keyup="updateMontants()" @focus="$event.target.select()" onkeypress="return /[0-9]|[.]/g.test(event.key)"></md-input></md-field></td>
                  <td class="tg-0lax montant alignRight"><span v-if="Number(form_detail.travauxTerrain5.montant>0)">{{ form_detail.travauxTerrain5.montant }} CHF</span></td>
                  <template v-for="i in form_general.nb_batiments">
                    <td class="tg-0lax nombre batiment-separator"><md-field class="nbField"><md-input :disabled="disabled" v-model="form_detail_batiment[i-1].travauxTerrain5.nombre" class="nbInput" v-bind:class="{ highlightEmolument: Number(form_detail_batiment[i-1].travauxTerrain5.nombre)>0, hideNulls: Number(form_detail_batiment[i-1].travauxTerrain5.nombre)==0 }" @keyup="updateMontants()" @focus="$event.target.select()" onkeypress="return /[0-9]|[.]/g.test(event.key)"></md-input></md-field></td>
                    <td class="tg-0lax montant alignRight"><span v-if="Number(form_detail_batiment[i-1].travauxTerrain5.montant>0)">{{ form_detail_batiment[i-1].travauxTerrain5.montant }} CHF</span></td>
                  </template>
                </tr>
                <tr>
                  <td class="tg-0lax code">.16</em></td>
                  <td class="tg-0lax subtitle" :colspan="5 + 2*Number(form_general.nb_batiments)"><em>Contrôles lors de visées pério.</em></td>
                </tr>
                <tr>
                  <td class="tg-0lax code"></td>
                  <td class="tg-0lax position">{{ form_detail.travauxTerrain6.nom }}</td>
                  <td class="tg-0lax alignCenter unite">{{ form_detail.travauxTerrain6.unite }}</td>
                  <td class="tg-0lax alignRight prix_unitaire">{{ form_detail.travauxTerrain6.prix_unitaire }} CHF</td>
                  <td class="tg-0lax nombre"><md-field class="nbField"><md-input :disabled="disabled" v-model="form_detail.travauxTerrain6.nombre" class="nbInput" v-bind:class="{ highlightEmolument: Number(form_detail.travauxTerrain6.nombre)>0, hideNulls: Number(form_detail.travauxTerrain6.nombre)==0 }" @keyup="updateMontants()" @focus="$event.target.select()" onkeypress="return /[0-9]|[.]/g.test(event.key)"></md-input></md-field></td>
                  <td class="tg-0lax montant alignRight"><span v-if="Number(form_detail.travauxTerrain6.montant>0)">{{ form_detail.travauxTerrain6.montant }} CHF</span></td>
                  <template v-for="i in form_general.nb_batiments">
                    <td class="tg-0lax nombre batiment-separator"><md-field class="nbField"><md-input :disabled="disabled" v-model="form_detail_batiment[i-1].travauxTerrain6.nombre" class="nbInput" v-bind:class="{ highlightEmolument: Number(form_detail_batiment[i-1].travauxTerrain6.nombre)>0, hideNulls: Number(form_detail_batiment[i-1].travauxTerrain6.nombre)==0 }" @keyup="updateMontants()" @focus="$event.target.select()" onkeypress="return /[0-9]|[.]/g.test(event.key)"></md-input></md-field></td>
                    <td class="tg-0lax montant alignRight"><span v-if="Number(form_detail_batiment[i-1].travauxTerrain6.montant>0)">{{ form_detail_batiment[i-1].travauxTerrain6.montant }} CHF</span></td>
                  </template>
                </tr>
                <tr>
                  <td class="tg-0lax code"></td>
                  <td class="tg-0lax position">{{ form_detail.travauxTerrain7.nom }}</td>
                  <td class="tg-0lax alignCenter unite">{{ form_detail.travauxTerrain7.unite }}</td>
                  <td class="tg-0lax alignRight prix_unitaire">{{ form_detail.travauxTerrain7.prix_unitaire }} CHF</td>
                  <td class="tg-0lax nombre"><md-field class="nbField"><md-input :disabled="disabled" v-model="form_detail.travauxTerrain7.nombre" class="nbInput" v-bind:class="{ highlightEmolument: Number(form_detail.travauxTerrain7.nombre)>0, hideNulls: Number(form_detail.travauxTerrain7.nombre)==0 }" @keyup="updateMontants()" @focus="$event.target.select()" onkeypress="return /[0-9]|[.]/g.test(event.key)"></md-input></md-field></td>
                  <td class="tg-0lax montant alignRight"><span v-if="Number(form_detail.travauxTerrain7.montant>0)">{{ form_detail.travauxTerrain7.montant }} CHF</span></td>
                  <template v-for="i in form_general.nb_batiments">
                    <td class="tg-0lax nombre batiment-separator"><md-field class="nbField"><md-input :disabled="disabled" v-model="form_detail_batiment[i-1].travauxTerrain7.nombre" class="nbInput" v-bind:class="{ highlightEmolument: Number(form_detail_batiment[i-1].travauxTerrain7.nombre)>0, hideNulls: Number(form_detail_batiment[i-1].travauxTerrain7.nombre)==0 }" @keyup="updateMontants()" @focus="$event.target.select()" onkeypress="return /[0-9]|[.]/g.test(event.key)"></md-input></md-field></td>
                    <td class="tg-0lax montant alignRight"><span v-if="Number(form_detail_batiment[i-1].travauxTerrain7.montant>0)">{{ form_detail_batiment[i-1].travauxTerrain7.montant }} CHF</span></td>
                  </template>
                </tr>
                <tr>
                  <td class="tg-0lax code"></td>
                  <td class="tg-0lax position">{{ form_detail.travauxTerrain8.nom }}</td>
                  <td class="tg-0lax alignCenter unite">{{ form_detail.travauxTerrain8.unite }}</td>
                  <td class="tg-0lax alignRight prix_unitaire">{{ form_detail.travauxTerrain8.prix_unitaire }} CHF</td>
                  <td class="tg-0lax nombre"><md-field class="nbField"><md-input :disabled="disabled" v-model="form_detail.travauxTerrain8.nombre" class="nbInput" v-bind:class="{ highlightEmolument: Number(form_detail.travauxTerrain8.nombre)>0, hideNulls: Number(form_detail.travauxTerrain8.nombre)==0 }" @keyup="updateMontants()" @focus="$event.target.select()" onkeypress="return /[0-9]|[.]/g.test(event.key)"></md-input></md-field></td>
                  <td class="tg-0lax montant alignRight"><span v-if="Number(form_detail.travauxTerrain8.montant>0)">{{ form_detail.travauxTerrain8.montant }} CHF</span></td>
                  <template v-for="i in form_general.nb_batiments">
                    <td class="tg-0lax nombre batiment-separator"><md-field class="nbField"><md-input :disabled="disabled" v-model="form_detail_batiment[i-1].travauxTerrain8.nombre" class="nbInput" v-bind:class="{ highlightEmolument: Number(form_detail_batiment[i-1].travauxTerrain8.nombre)>0, hideNulls: Number(form_detail_batiment[i-1].travauxTerrain8.nombre)==0 }" @keyup="updateMontants()" @focus="$event.target.select()" onkeypress="return /[0-9]|[.]/g.test(event.key)"></md-input></md-field></td>
                    <td class="tg-0lax montant alignRight"><span v-if="Number(form_detail_batiment[i-1].travauxTerrain8.montant>0)">{{ form_detail_batiment[i-1].travauxTerrain8.montant }} CHF</span></td>
                  </template>
                </tr>
                <tr>
                  <td class="tg-0lax code">.17</td>
                  <td class="tg-0lax position">{{ form_detail.travauxTerrain9.nom }}</td>
                  <td class="tg-0lax alignCenter unite">{{ form_detail.travauxTerrain9.unite }}</td>
                  <td class="tg-0lax alignRight prix_unitaire">{{ form_detail.travauxTerrain9.prix_unitaire }} CHF</td>
                  <td class="tg-0lax nombre"><md-field class="nbField"><md-input :disabled="disabled" v-model="form_detail.travauxTerrain9.nombre" class="nbInput" v-bind:class="{ highlightEmolument: Number(form_detail.travauxTerrain9.nombre)>0, hideNulls: Number(form_detail.travauxTerrain9.nombre)==0 }" @keyup="updateMontants()" @focus="$event.target.select()" onkeypress="return /[0-9]|[.]/g.test(event.key)"></md-input></md-field></td>
                  <td class="tg-0lax montant alignRight"><span v-if="Number(form_detail.travauxTerrain9.montant>0)">{{ form_detail.travauxTerrain9.montant }} CHF</span></td>
                  <template v-for="i in form_general.nb_batiments">
                    <td class="tg-0lax nombre batiment-separator"><md-field class="nbField"><md-input :disabled="disabled" v-model="form_detail_batiment[i-1].travauxTerrain9.nombre" class="nbInput" v-bind:class="{ highlightEmolument: Number(form_detail_batiment[i-1].travauxTerrain9.nombre)>0, hideNulls: Number(form_detail_batiment[i-1].travauxTerrain9.nombre)==0 }" @keyup="updateMontants()" @focus="$event.target.select()" onkeypress="return /[0-9]|[.]/g.test(event.key)"></md-input></md-field></td>
                    <td class="tg-0lax montant alignRight"><span v-if="Number(form_detail_batiment[i-1].travauxTerrain9.montant>0)">{{ form_detail_batiment[i-1].travauxTerrain9.montant }} CHF</span></td>
                  </template>
                </tr>
                <tr>
                  <td class="tg-0lax code">.18</td>
                  <td class="tg-0lax position">{{ form_detail.travauxTerrain10.nom }}</td>
                  <td class="tg-0lax alignCenter unite">{{ form_detail.travauxTerrain10.unite }}</td>
                  <td class="tg-0lax alignRight prix_unitaire">{{ form_detail.travauxTerrain10.prix_unitaire }} CHF</td>
                  <td class="tg-0lax nombre"><md-field class="nbField"><md-input :disabled="disabled" v-model="form_detail.travauxTerrain10.nombre" class="nbInput" v-bind:class="{ highlightEmolument: Number(form_detail.travauxTerrain10.nombre)>0, hideNulls: Number(form_detail.travauxTerrain10.nombre)==0 }" @keyup="updateMontants()" @focus="$event.target.select()" onkeypress="return /[0-9]|[.]/g.test(event.key)"></md-input></md-field></td>
                  <td class="tg-0lax montant alignRight"><span v-if="Number(form_detail.travauxTerrain10.montant>0)">{{ form_detail.travauxTerrain10.montant }} CHF</span></td>
                  <template v-for="i in form_general.nb_batiments">
                    <td class="tg-0lax nombre batiment-separator"><md-field class="nbField"><md-input :disabled="disabled" v-model="form_detail_batiment[i-1].travauxTerrain10.nombre" class="nbInput" v-bind:class="{ highlightEmolument: Number(form_detail_batiment[i-1].travauxTerrain10.nombre)>0, hideNulls: Number(form_detail_batiment[i-1].travauxTerrain10.nombre)==0 }" @keyup="updateMontants()" @focus="$event.target.select()" onkeypress="return /[0-9]|[.]/g.test(event.key)"></md-input></md-field></td>
                    <td class="tg-0lax montant alignRight"><span v-if="Number(form_detail_batiment[i-1].travauxTerrain10.montant>0)">{{ form_detail_batiment[i-1].travauxTerrain10.montant }} CHF</span></td>
                  </template>
                </tr>
                <tr>
                  <td class="tg-0lax code">.19</td>
                  <td class="tg-0lax position">{{ form_detail.travauxTerrain11.nom }}</td>
                  <td class="tg-0lax alignCenter unite">{{ form_detail.travauxTerrain11.unite }}</td>
                  <td class="tg-0lax alignRight prix_unitaire">{{ form_detail.travauxTerrain11.prix_unitaire }} CHF</td>
                  <td class="tg-0lax nombre"><md-field class="nbField"><md-input :disabled="disabled" v-model="form_detail.travauxTerrain11.nombre" class="nbInput" v-bind:class="{ highlightEmolument: Number(form_detail.travauxTerrain11.nombre)>0, hideNulls: Number(form_detail.travauxTerrain11.nombre)==0 }" @keyup="updateMontants()" @focus="$event.target.select()" onkeypress="return /[0-9]|[.]/g.test(event.key)"></md-input></md-field></td>
                  <td class="tg-0lax montant alignRight"><span v-if="Number(form_detail.travauxTerrain11.montant>0)">{{ form_detail.travauxTerrain11.montant }} CHF</span></td>
                  <template v-for="i in form_general.nb_batiments">
                    <td class="tg-0lax nombre batiment-separator"><md-field class="nbField"><md-input :disabled="disabled" v-model="form_detail_batiment[i-1].travauxTerrain11.nombre" class="nbInput" v-bind:class="{ highlightEmolument: Number(form_detail_batiment[i-1].travauxTerrain11.nombre)>0, hideNulls: Number(form_detail_batiment[i-1].travauxTerrain11.nombre)==0 }" @keyup="updateMontants()" @focus="$event.target.select()" onkeypress="return /[0-9]|[.]/g.test(event.key)"></md-input></md-field></td>
                    <td class="tg-0lax montant alignRight"><span v-if="Number(form_detail_batiment[i-1].travauxTerrain11.montant>0)">{{ form_detail_batiment[i-1].travauxTerrain11.montant }} CHF</span></td>
                  </template>
                </tr>
                <tr>
                  <td class="tg-0lax code">.110</td>
                  <td class="tg-0lax position">{{ form_detail.travauxTerrain12.nom }}</td>
                  <td class="tg-0lax alignCenter unite">{{ form_detail.travauxTerrain12.unite }}</td>
                  <td class="tg-0lax alignRight prix_unitaire">{{ form_detail.travauxTerrain12.prix_unitaire }} CHF</td>
                  <td class="tg-0lax nombre"><md-field class="nbField"><md-input :disabled="disabled" v-model="form_detail.travauxTerrain12.nombre" class="nbInput" v-bind:class="{ highlightEmolument: Number(form_detail.travauxTerrain12.nombre)>0, hideNulls: Number(form_detail.travauxTerrain12.nombre)==0 }" @keyup="updateMontants()" @focus="$event.target.select()" onkeypress="return /[0-9]|[.]/g.test(event.key)"></md-input></md-field></td>
                  <td class="tg-0lax montant alignRight"><span v-if="Number(form_detail.travauxTerrain12.montant>0)">{{ form_detail.travauxTerrain12.montant }} CHF</span></td>
                  <template v-for="i in form_general.nb_batiments">
                    <td class="tg-0lax nombre batiment-separator"><md-field class="nbField"><md-input :disabled="disabled" v-model="form_detail_batiment[i-1].travauxTerrain12.nombre" class="nbInput" v-bind:class="{ highlightEmolument: Number(form_detail_batiment[i-1].travauxTerrain12.nombre)>0, hideNulls: Number(form_detail_batiment[i-1].travauxTerrain12.nombre)==0 }" @keyup="updateMontants()" @focus="$event.target.select()" onkeypress="return /[0-9]|[.]/g.test(event.key)"></md-input></md-field></td>
                    <td class="tg-0lax montant alignRight"><span v-if="Number(form_detail_batiment[i-1].travauxTerrain12.montant>0)">{{ form_detail_batiment[i-1].travauxTerrain12.montant }} CHF</span></td>
                  </template>
                </tr>
                <tr>
                  <td class="tg-0lax code">.111</td>
                  <td class="tg-0lax position">{{ form_detail.travauxTerrain13.nom }}</td>
                  <td class="tg-0lax alignCenter unite">{{ form_detail.travauxTerrain13.unite }}</td>
                  <td class="tg-0lax alignRight prix_unitaire">{{ form_detail.travauxTerrain13.prix_unitaire }} CHF</td>
                  <td class="tg-0lax nombre"><md-field class="nbField"><md-input :disabled="disabled" v-model="form_detail.travauxTerrain13.nombre" class="nbInput" v-bind:class="{ highlightEmolument: Number(form_detail.travauxTerrain13.nombre)>0, hideNulls: Number(form_detail.travauxTerrain13.nombre)==0 }" @keyup="updateMontants()" @focus="$event.target.select()" onkeypress="return /[0-9]|[.]/g.test(event.key)"></md-input></md-field></td>
                  <td class="tg-0lax montant alignRight"><span v-if="Number(form_detail.travauxTerrain13.montant>0)">{{ form_detail.travauxTerrain13.montant }} CHF</span></td>
                  <template v-for="i in form_general.nb_batiments">
                    <td class="tg-0lax nombre batiment-separator"><md-field class="nbField"><md-input :disabled="disabled" v-model="form_detail_batiment[i-1].travauxTerrain13.nombre" class="nbInput" v-bind:class="{ highlightEmolument: Number(form_detail_batiment[i-1].travauxTerrain13.nombre)>0, hideNulls: Number(form_detail_batiment[i-1].travauxTerrain13.nombre)==0 }" @keyup="updateMontants()" @focus="$event.target.select()" onkeypress="return /[0-9]|[.]/g.test(event.key)"></md-input></md-field></td>
                    <td class="tg-0lax montant alignRight"><span v-if="Number(form_detail_batiment[i-1].travauxTerrain13.montant>0)">{{ form_detail_batiment[i-1].travauxTerrain13.montant }} CHF</span></td>
                  </template>
                </tr>
                <tr>
                  <td class="tg-0lax code">.112</td>
                  <td class="tg-0lax position">{{ form_detail.travauxTerrain14.nom }}</td>
                  <td class="tg-0lax alignCenter unite">{{ form_detail.travauxTerrain14.unite }}</td>
                  <td class="tg-0lax alignRight prix_unitaire">{{ form_detail.travauxTerrain14.prix_unitaire }} CHF</td>
                  <td class="tg-0lax nombre"><md-field class="nbField"><md-input :disabled="disabled" v-model="form_detail.travauxTerrain14.nombre" class="nbInput" v-bind:class="{ highlightEmolument: Number(form_detail.travauxTerrain14.nombre)>0, hideNulls: Number(form_detail.travauxTerrain14.nombre)==0 }" @keyup="updateMontants()" @focus="$event.target.select()" onkeypress="return /[0-9]|[.]/g.test(event.key)"></md-input></md-field></td>
                  <td class="tg-0lax montant alignRight"><span v-if="Number(form_detail.travauxTerrain14.montant>0)">{{ form_detail.travauxTerrain14.montant }} CHF</span></td>
                  <template v-for="i in form_general.nb_batiments">
                    <td class="tg-0lax nombre batiment-separator"><md-field class="nbField"><md-input :disabled="disabled" v-model="form_detail_batiment[i-1].travauxTerrain14.nombre" class="nbInput" v-bind:class="{ highlightEmolument: Number(form_detail_batiment[i-1].travauxTerrain14.nombre)>0, hideNulls: Number(form_detail_batiment[i-1].travauxTerrain14.nombre)==0 }" @keyup="updateMontants()" @focus="$event.target.select()" onkeypress="return /[0-9]|[.]/g.test(event.key)"></md-input></md-field></td>
                    <td class="tg-0lax montant alignRight"><span v-if="Number(form_detail_batiment[i-1].travauxTerrain14.montant>0)">{{ form_detail_batiment[i-1].travauxTerrain14.montant }} CHF</span></td>
                  </template>
                </tr>
                <tr>
                  <td class="tg-0lax subtitle" :colspan="6 + 2*Number(form_general.nb_batiments)">2.3 Situation</td>
                </tr>
                <tr>
                  <td class="tg-0lax code">.31</td>
                  <td class="tg-0lax position">{{ form_detail.travauxTerrain15.nom }}</td>
                  <td class="tg-0lax alignCenter unite">{{ form_detail.travauxTerrain15.unite }}</td>
                  <td class="tg-0lax alignRight prix_unitaire">{{ form_detail.travauxTerrain15.prix_unitaire }} CHF</td>
                  <td class="tg-0lax nombre"><md-field class="nbField"><md-input :disabled="disabled" v-model="form_detail.travauxTerrain15.nombre" class="nbInput" v-bind:class="{ highlightEmolument: Number(form_detail.travauxTerrain15.nombre)>0, hideNulls: Number(form_detail.travauxTerrain15.nombre)==0 }" @keyup="updateMontants()" @focus="$event.target.select()" onkeypress="return /[0-9]|[.]/g.test(event.key)"></md-input></md-field></td>
                  <td class="tg-0lax montant alignRight"><span v-if="Number(form_detail.travauxTerrain15.montant>0)">{{ form_detail.travauxTerrain15.montant }} CHF</span></td>
                  <template v-for="i in form_general.nb_batiments">
                    <td class="tg-0lax nombre batiment-separator"><md-field class="nbField"><md-input :disabled="disabled" v-model="form_detail_batiment[i-1].travauxTerrain15.nombre" class="nbInput" v-bind:class="{ highlightEmolument: Number(form_detail_batiment[i-1].travauxTerrain15.nombre)>0, hideNulls: Number(form_detail_batiment[i-1].travauxTerrain15.nombre)==0 }" @keyup="updateMontants()" @focus="$event.target.select()" onkeypress="return /[0-9]|[.]/g.test(event.key)"></md-input></md-field></td>
                    <td class="tg-0lax montant alignRight"><span v-if="Number(form_detail_batiment[i-1].travauxTerrain15.montant>0)">{{ form_detail_batiment[i-1].travauxTerrain15.montant }} CHF</span></td>
                  </template>
                </tr>
                <tr>
                  <td class="tg-0lax code">.32</td>
                  <td class="tg-0lax position">{{ form_detail.travauxTerrain16.nom }}</td>
                  <td class="tg-0lax alignCenter unite">{{ form_detail.travauxTerrain16.unite }}</td>
                  <td class="tg-0lax alignRight prix_unitaire">{{ form_detail.travauxTerrain16.prix_unitaire }} CHF</td>
                  <td class="tg-0lax nombre"><md-field class="nbField"><md-input :disabled="disabled" v-model="form_detail.travauxTerrain16.nombre" class="nbInput" v-bind:class="{ highlightEmolument: Number(form_detail.travauxTerrain16.nombre)>0, hideNulls: Number(form_detail.travauxTerrain16.nombre)==0 }" @keyup="updateMontants()" @focus="$event.target.select()" onkeypress="return /[0-9]|[.]/g.test(event.key)"></md-input></md-field></td>
                  <td class="tg-0lax montant alignRight"><span v-if="Number(form_detail.travauxTerrain16.montant>0)">{{ form_detail.travauxTerrain16.montant }} CHF</span></td>
                  <template v-for="i in form_general.nb_batiments">
                    <td class="tg-0lax nombre batiment-separator"><md-field class="nbField"><md-input :disabled="disabled" v-model="form_detail_batiment[i-1].travauxTerrain16.nombre" class="nbInput" v-bind:class="{ highlightEmolument: Number(form_detail_batiment[i-1].travauxTerrain16.nombre)>0, hideNulls: Number(form_detail_batiment[i-1].travauxTerrain16.nombre)==0 }" @keyup="updateMontants()" @focus="$event.target.select()" onkeypress="return /[0-9]|[.]/g.test(event.key)"></md-input></md-field></td>
                    <td class="tg-0lax montant alignRight"><span v-if="Number(form_detail_batiment[i-1].travauxTerrain16.montant>0)">{{ form_detail_batiment[i-1].travauxTerrain16.montant }} CHF</span></td>
                  </template>
                </tr>
                <tr>
                  <td class="tg-0lax subtitle" :colspan="6 + 2*Number(form_general.nb_batiments)">2.2 Points limites</td>
                </tr>
                <tr>
                  <td class="tg-0lax code">.21</td>
                  <td class="tg-0lax position">{{ form_detail.travauxTerrain17.nom }}</td>
                  <td class="tg-0lax alignCenter unite">{{ form_detail.travauxTerrain17.unite }}</td>
                  <td class="tg-0lax alignRight prix_unitaire">{{ form_detail.travauxTerrain17.prix_unitaire }} CHF</td>
                  <td class="tg-0lax nombre"><md-field class="nbField"><md-input :disabled="disabled" v-model="form_detail.travauxTerrain17.nombre" class="nbInput" v-bind:class="{ highlightEmolument: Number(form_detail.travauxTerrain17.nombre)>0, hideNulls: Number(form_detail.travauxTerrain17.nombre)==0 }" @keyup="updateMontants()" @focus="$event.target.select()" onkeypress="return /[0-9]|[.]/g.test(event.key)"></md-input></md-field></td>
                  <td class="tg-0lax montant alignRight"><span v-if="Number(form_detail.travauxTerrain17.montant>0)">{{ form_detail.travauxTerrain17.montant }} CHF</span></td>
                  <template v-for="i in form_general.nb_batiments">
                    <td class="tg-0lax nombre batiment-separator notEditable"></td>
                    <td class="tg-0lax montant notEditable"></td>
                  </template>
                </tr>
                <tr>
                  <td class="tg-0lax code">.22</td>
                  <td class="tg-0lax position">{{ form_detail.travauxTerrain18.nom }}</td>
                  <td class="tg-0lax alignCenter unite">{{ form_detail.travauxTerrain18.unite }}</td>
                  <td class="tg-0lax alignRight prix_unitaire">{{ form_detail.travauxTerrain18.prix_unitaire }} CHF</td>
                  <td class="tg-0lax nombre"><md-field class="nbField"><md-input :disabled="disabled" v-model="form_detail.travauxTerrain18.nombre" class="nbInput" v-bind:class="{ highlightEmolument: Number(form_detail.travauxTerrain18.nombre)>0, hideNulls: Number(form_detail.travauxTerrain18.nombre)==0 }" @keyup="updateMontants()" @focus="$event.target.select()" onkeypress="return /[0-9]|[.]/g.test(event.key)"></md-input></md-field></td>
                  <td class="tg-0lax montant alignRight"><span v-if="Number(form_detail.travauxTerrain18.montant>0)">{{ form_detail.travauxTerrain18.montant }} CHF</span></td>
                  <template v-for="i in form_general.nb_batiments">
                    <td class="tg-0lax nombre batiment-separator notEditable"></td>
                    <td class="tg-0lax montant notEditable"></td>
                  </template>
                </tr>
                <tr>
                  <td class="tg-0lax code">.23</td>
                  <td class="tg-0lax position">{{ form_detail.travauxTerrain19.nom }}</td>
                  <td class="tg-0lax alignCenter unite">{{ form_detail.travauxTerrain19.unite }}</td>
                  <td class="tg-0lax alignRight prix_unitaire">{{ form_detail.travauxTerrain19.prix_unitaire }} CHF</td>
                  <td class="tg-0lax nombre"><md-field class="nbField"><md-input :disabled="disabled" v-model="form_detail.travauxTerrain19.nombre" class="nbInput" v-bind:class="{ highlightEmolument: Number(form_detail.travauxTerrain19.nombre)>0, hideNulls: Number(form_detail.travauxTerrain19.nombre)==0 }" @keyup="updateMontants()" @focus="$event.target.select()" onkeypress="return /[0-9]|[.]/g.test(event.key)"></md-input></md-field></td>
                  <td class="tg-0lax montant alignRight"><span v-if="Number(form_detail.travauxTerrain19.montant>0)">{{ form_detail.travauxTerrain19.montant }} CHF</span></td>
                  <template v-for="i in form_general.nb_batiments">
                    <td class="tg-0lax nombre batiment-separator notEditable"></td>
                    <td class="tg-0lax montant notEditable"></td>
                  </template>
                </tr>
                <tr>
                  <td class="tg-0lax code">.24</td>
                  <td class="tg-0lax position">{{ form_detail.travauxTerrain20.nom }}</td>
                  <td class="tg-0lax alignCenter unite">{{ form_detail.travauxTerrain20.unite }}</td>
                  <td class="tg-0lax alignRight prix_unitaire">{{ form_detail.travauxTerrain20.prix_unitaire }} CHF</td>
                  <td class="tg-0lax nombre"><md-field class="nbField"><md-input :disabled="disabled" v-model="form_detail.travauxTerrain20.nombre" class="nbInput" v-bind:class="{ highlightEmolument: Number(form_detail.travauxTerrain20.nombre)>0, hideNulls: Number(form_detail.travauxTerrain20.nombre)==0 }" @keyup="updateMontants()" @focus="$event.target.select()" onkeypress="return /[0-9]|[.]/g.test(event.key)"></md-input></md-field></td>
                  <td class="tg-0lax montant alignRight"><span v-if="Number(form_detail.travauxTerrain20.montant>0)">{{ form_detail.travauxTerrain20.montant }} CHF</span></td>
                  <template v-for="i in form_general.nb_batiments">
                    <td class="tg-0lax nombre batiment-separator notEditable"></td>
                    <td class="tg-0lax montant notEditable"></td>
                  </template>
                </tr>
                <tr>
                  <td class="tg-0lax code">.25</td>
                  <td class="tg-0lax position">{{ form_detail.travauxTerrain21.nom }}</td>
                  <td class="tg-0lax alignCenter unite">{{ form_detail.travauxTerrain21.unite }}</td>
                  <td class="tg-0lax alignRight prix_unitaire">{{ form_detail.travauxTerrain21.prix_unitaire }} CHF</td>
                  <td class="tg-0lax nombre"><md-field class="nbField"><md-input :disabled="disabled" v-model="form_detail.travauxTerrain21.nombre" class="nbInput" v-bind:class="{ highlightEmolument: Number(form_detail.travauxTerrain21.nombre)>0, hideNulls: Number(form_detail.travauxTerrain21.nombre)==0 }" @keyup="updateMontants()" @focus="$event.target.select()" onkeypress="return /[0-9]|[.]/g.test(event.key)"></md-input></md-field></td>
                  <td class="tg-0lax montant alignRight"><span v-if="Number(form_detail.travauxTerrain21.montant>0)">{{ form_detail.travauxTerrain21.montant }} CHF</span></td>
                  <template v-for="i in form_general.nb_batiments">
                    <td class="tg-0lax nombre batiment-separator notEditable"></td>
                    <td class="tg-0lax montant notEditable"></td>
                  </template>
                </tr>
                <tr>
                  <td class="tg-0lax code">.26</td>
                  <td class="tg-0lax position">{{ form_detail.travauxTerrain22.nom }}</td>
                  <td class="tg-0lax alignCenter unite">{{ form_detail.travauxTerrain22.unite }}</td>
                  <td class="tg-0lax alignRight prix_unitaire">{{ form_detail.travauxTerrain22.prix_unitaire }} CHF</td>
                  <td class="tg-0lax nombre"><md-field class="nbField"><md-input :disabled="disabled" v-model="form_detail.travauxTerrain22.nombre" class="nbInput" v-bind:class="{ highlightEmolument: Number(form_detail.travauxTerrain22.nombre)>0, hideNulls: Number(form_detail.travauxTerrain22.nombre)==0 }" @keyup="updateMontants()" @focus="$event.target.select()" onkeypress="return /[0-9]|[.]/g.test(event.key)"></md-input></md-field></td>
                  <td class="tg-0lax montant alignRight"><span v-if="Number(form_detail.travauxTerrain22.montant>0)">{{ form_detail.travauxTerrain22.montant }} CHF</span></td>
                  <template v-for="i in form_general.nb_batiments">
                    <td class="tg-0lax nombre batiment-separator notEditable"></td>
                    <td class="tg-0lax montant notEditable"></td>
                  </template>
                </tr>
                <tr>
                  <td class="tg-0lax code">.27</td>
                  <td class="tg-0lax position">{{ form_detail.travauxTerrain23.nom }}</td>
                  <td class="tg-0lax alignCenter unite">{{ form_detail.travauxTerrain23.unite }}</td>
                  <td class="tg-0lax alignRight prix_unitaire">{{ form_detail.travauxTerrain23.prix_unitaire }} CHF</td>
                  <td class="tg-0lax nombre"><md-field class="nbField"><md-input :disabled="disabled" v-model="form_detail.travauxTerrain23.nombre" class="nbInput" v-bind:class="{ highlightEmolument: Number(form_detail.travauxTerrain23.nombre)>0, hideNulls: Number(form_detail.travauxTerrain23.nombre)==0 }" @keyup="updateMontants()" @focus="$event.target.select()" onkeypress="return /[0-9]|[.]/g.test(event.key)"></md-input></md-field></td>
                  <td class="tg-0lax montant alignRight"><span v-if="Number(form_detail.travauxTerrain23.montant>0)">{{ form_detail.travauxTerrain23.montant }} CHF</span></td>
                  <template v-for="i in form_general.nb_batiments">
                    <td class="tg-0lax nombre batiment-separator notEditable"></td>
                    <td class="tg-0lax montant notEditable"></td>
                  </template>
                </tr>
                <tr>
                  <td class="tg-0lax code">.28</td>
                  <td class="tg-0lax position">{{ form_detail.travauxTerrain24.nom }}</td>
                  <td class="tg-0lax alignCenter unite">{{ form_detail.travauxTerrain24.unite }}</td>
                  <td class="tg-0lax alignRight prix_unitaire">{{ form_detail.travauxTerrain24.prix_unitaire }} CHF</td>
                  <td class="tg-0lax nombre"><md-field class="nbField"><md-input :disabled="disabled" v-model="form_detail.travauxTerrain24.nombre" class="nbInput" v-bind:class="{ highlightEmolument: Number(form_detail.travauxTerrain24.nombre)>0, hideNulls: Number(form_detail.travauxTerrain24.nombre)==0 }" @keyup="updateMontants()" @focus="$event.target.select()" onkeypress="return /[0-9]|[.]/g.test(event.key)"></md-input></md-field></td>
                  <td class="tg-0lax montant alignRight"><span v-if="Number(form_detail.travauxTerrain24.montant>0)">{{ form_detail.travauxTerrain24.montant }} CHF</span></td>
                  <template v-for="i in form_general.nb_batiments">
                    <td class="tg-0lax nombre batiment-separator notEditable"></td>
                    <td class="tg-0lax montant notEditable"></td>
                  </template>
                </tr>
                <tr>
                  <td class="tg-0lax code">.29</td>
                  <td class="tg-0lax position">{{ form_detail.travauxTerrain25.nom }}</td>
                  <td class="tg-0lax alignCenter unite">{{ form_detail.travauxTerrain25.unite }}</td>
                  <td class="tg-0lax alignRight prix_unitaire">{{ form_detail.travauxTerrain25.prix_unitaire }} CHF</td>
                  <td class="tg-0lax nombre"><md-field class="nbField"><md-input :disabled="disabled" v-model="form_detail.travauxTerrain25.nombre" class="nbInput" v-bind:class="{ highlightEmolument: Number(form_detail.travauxTerrain25.nombre)>0, hideNulls: Number(form_detail.travauxTerrain25.nombre)==0 }" @keyup="updateMontants()" @focus="$event.target.select()" onkeypress="return /[0-9]|[.]/g.test(event.key)"></md-input></md-field></td>
                  <td class="tg-0lax montant alignRight"><span v-if="Number(form_detail.travauxTerrain25.montant>0)">{{ form_detail.travauxTerrain25.montant }} CHF</span></td>
                  <template v-for="i in form_general.nb_batiments">
                    <td class="tg-0lax nombre batiment-separator notEditable"></td>
                    <td class="tg-0lax montant notEditable"></td>
                  </template>
                </tr>
                <tr>
                  <td class="tg-0pky" colspan="5">Somme</td>
                  <td class="tg-0pky montant alignRight">{{ total.montant_travauxTerrain_total }} CHF</td>
                  <template v-for="i in form_general.nb_batiments">
                    <td class="tg-0lax nombre batiment-separator notEditable"></td>
                    <td class="tg-0lax montant alignRight">{{ total.montant_travauxTerrain_batiment_total[i-1] }} CHF</td>
                  </template>
                </tr>
                <tr v-if="Number(form_general.nb_batiments) > 0">
                  <td class="tg-0pky" colspan="5">Application du facteur de correction lié à la surface du bâtiment</td>
                  <td class="tg-0pky montant notEditable"></td>
                  <template v-for="i in form_general.nb_batiments">
                    <td class="tg-0lax nombre batiment-separator alignCenter">x f</td>
                    <td class="tg-0lax montant alignRight">{{ total.montant_travauxTerrain_batiment_total_f[i-1] }} CHF</td>
                  </template>
                </tr>
                <tr v-if="Number(form_general.nb_batiments) > 0">
                  <td class="tg-0pky" colspan="5">Total des travaux de terrain sans bâtiments</td>
                  <td class="tg-0pky montant alignRight">{{ total.montant_travauxTerrain_total }} CHF</td>
                  <template v-if="Number(form_general.nb_batiments) > 0">
                    <td class="tg-0pky nombre batiment-separator" :colspan="(2* Number(form_general.nb_batiments))-1">Bât.</td>
                    <td class="tg-0pky montant alignRight">{{ total.montant_travauxTerrain_batiment_total_f_somme }} CHF</td>
                  </template>
                </tr>
                <tr>
                  <td class="tg-0pky" colspan="5">x supplément terrain zi</td>
                  <td class="tg-0pky montant montantTotal alignRight">{{ total.montant_travauxTerrain_total_zi }} CHF</td>
                  <template v-if="Number(form_general.nb_batiments) > 0">
                    <td class="tg-0pky nombre batiment-separator" :colspan="(2* Number(form_general.nb_batiments))-1">x sup. terrain zi</td>
                    <td class="tg-0pky montant montantTotal alignRight">{{ total.montant_travauxTerrain_batiment_total_f_somme_zi }} CHF</td>
                  </template>
                </tr>
                <tr class="rowChapterDistinction">
                  <td class="chapter" rowspan="22" style="background-color: rgba(255, 166, 0, 0.5);">3. Matérialisation</td>
                  <td class="tg-0lax subtitle" :colspan="6 + 2*Number(form_general.nb_batiments)">3.1,2 Types stanndards et complémentaires</td>
                </tr>
                <tr>
                  <td class="tg-0lax code">.11</td>
                  <td class="tg-0lax position">{{ form_detail.travauxMaterialisation1.nom }}</td>
                  <td class="tg-0lax alignCenter unite">{{ form_detail.travauxMaterialisation1.unite }}</td>
                  <td class="tg-0lax alignRight prix_unitaire">{{ form_detail.travauxMaterialisation1.prix_unitaire }} CHF</td>
                  <td class="tg-0lax nombre"><md-field class="nbField"><md-input :disabled="disabled" v-model="form_detail.travauxMaterialisation1.nombre" class="nbInput" v-bind:class="{ highlightEmolument: Number(form_detail.travauxMaterialisation1.nombre)>0, hideNulls: Number(form_detail.travauxMaterialisation1.nombre)==0 }" @keyup="updateMontants()" @focus="$event.target.select()" onkeypress="return /[0-9]|[.]/g.test(event.key)"></md-input></md-field></td>
                  <td class="tg-0lax montant alignRight"><span v-if="Number(form_detail.travauxMaterialisation1.montant>0)">{{ form_detail.travauxMaterialisation1.montant }} CHF</span></td>
                  <template v-for="i in form_general.nb_batiments">
                    <td class="tg-0lax nombre batiment-separator notEditable"></td>
                    <td class="tg-0lax montant notEditable"></td>
                  </template>
                </tr>
                <tr>
                  <td class="tg-0lax code">.115</td>
                  <td class="tg-0lax position">{{ form_detail.travauxMaterialisation2.nom }}</td>
                  <td class="tg-0lax alignCenter unite">{{ form_detail.travauxMaterialisation2.unite }}</td>
                  <td class="tg-0lax alignRight prix_unitaire">{{ form_detail.travauxMaterialisation2.prix_unitaire }} CHF</td>
                  <td class="tg-0lax nombre"><md-field class="nbField"><md-input :disabled="disabled" v-model="form_detail.travauxMaterialisation2.nombre" class="nbInput" v-bind:class="{ highlightEmolument: Number(form_detail.travauxMaterialisation2.nombre)>0, hideNulls: Number(form_detail.travauxMaterialisation2.nombre)==0 }" @keyup="updateMontants()" @focus="$event.target.select()" onkeypress="return /[0-9]|[.]/g.test(event.key)"></md-input></md-field></td>
                  <td class="tg-0lax montant alignRight"><span v-if="Number(form_detail.travauxMaterialisation2.montant>0)">{{ form_detail.travauxMaterialisation2.montant }} CHF</span></td>
                  <template v-for="i in form_general.nb_batiments">
                    <td class="tg-0lax nombre batiment-separator notEditable"></td>
                    <td class="tg-0lax montant notEditable"></td>
                  </template>
                </tr>
                <tr>
                  <td class="tg-0lax code">.12</td>
                  <td class="tg-0lax position">{{ form_detail.travauxMaterialisation3.nom }}</td>
                  <td class="tg-0lax alignCenter unite">{{ form_detail.travauxMaterialisation3.unite }}</td>
                  <td class="tg-0lax alignRight prix_unitaire">{{ form_detail.travauxMaterialisation3.prix_unitaire }} CHF</td>
                  <td class="tg-0lax nombre"><md-field class="nbField"><md-input :disabled="disabled" v-model="form_detail.travauxMaterialisation3.nombre" class="nbInput" v-bind:class="{ highlightEmolument: Number(form_detail.travauxMaterialisation3.nombre)>0, hideNulls: Number(form_detail.travauxMaterialisation3.nombre)==0 }" @keyup="updateMontants()" @focus="$event.target.select()" onkeypress="return /[0-9]|[.]/g.test(event.key)"></md-input></md-field></td>
                  <td class="tg-0lax montant alignRight"><span v-if="Number(form_detail.travauxMaterialisation3.montant>0)">{{ form_detail.travauxMaterialisation3.montant }} CHF</span></td>
                <template v-for="i in form_general.nb_batiments">
                    <td class="tg-0lax nombre batiment-separator notEditable"></td>
                    <td class="tg-0lax montant notEditable"></td>
                  </template>
                </tr>
                <tr>
                  <td class="tg-0lax code">.13</td>
                  <td class="tg-0lax position">{{ form_detail.travauxMaterialisation4.nom }}</td>
                  <td class="tg-0lax alignCenter unite">{{ form_detail.travauxMaterialisation4.unite }}</td>
                  <td class="tg-0lax alignRight prix_unitaire">{{ form_detail.travauxMaterialisation4.prix_unitaire }} CHF</td>
                  <td class="tg-0lax nombre"><md-field class="nbField"><md-input :disabled="disabled" v-model="form_detail.travauxMaterialisation4.nombre" class="nbInput" v-bind:class="{ highlightEmolument: Number(form_detail.travauxMaterialisation4.nombre)>0, hideNulls: Number(form_detail.travauxMaterialisation4.nombre)==0 }" @keyup="updateMontants()" @focus="$event.target.select()" onkeypress="return /[0-9]|[.]/g.test(event.key)"></md-input></md-field></td>
                  <td class="tg-0lax montant alignRight"><span v-if="Number(form_detail.travauxMaterialisation4.montant>0)">{{ form_detail.travauxMaterialisation4.montant }} CHF</span></td>
                <template v-for="i in form_general.nb_batiments">
                    <td class="tg-0lax nombre batiment-separator notEditable"></td>
                    <td class="tg-0lax montant notEditable"></td>
                  </template>
                </tr>
                <tr>
                  <td class="tg-0lax code">.15</td>
                  <td class="tg-0lax position">{{ form_detail.travauxMaterialisation5.nom }}</td>
                  <td class="tg-0lax alignCenter unite">{{ form_detail.travauxMaterialisation5.unite }}</td>
                  <td class="tg-0lax alignRight prix_unitaire">{{ form_detail.travauxMaterialisation5.prix_unitaire }} CHF</td>
                  <td class="tg-0lax nombre"><md-field class="nbField"><md-input :disabled="disabled" v-model="form_detail.travauxMaterialisation5.nombre" class="nbInput" v-bind:class="{ highlightEmolument: Number(form_detail.travauxMaterialisation5.nombre)>0, hideNulls: Number(form_detail.travauxMaterialisation5.nombre)==0 }" @keyup="updateMontants()" @focus="$event.target.select()" onkeypress="return /[0-9]|[.]/g.test(event.key)"></md-input></md-field></td>
                  <td class="tg-0lax montant alignRight"><span v-if="Number(form_detail.travauxMaterialisation5.montant>0)">{{ form_detail.travauxMaterialisation5.montant }} CHF</span></td>
                <template v-for="i in form_general.nb_batiments">
                    <td class="tg-0lax nombre batiment-separator notEditable"></td>
                    <td class="tg-0lax montant notEditable"></td>
                  </template>
                </tr>
                <tr>
                  <td class="tg-0lax code">.16</td>
                  <td class="tg-0lax position">{{ form_detail.travauxMaterialisation6.nom }}</td>
                  <td class="tg-0lax alignCenter unite">{{ form_detail.travauxMaterialisation6.unite }}</td>
                  <td class="tg-0lax alignRight prix_unitaire">{{ form_detail.travauxMaterialisation6.prix_unitaire }} CHF</td>
                  <td class="tg-0lax nombre"><md-field class="nbField"><md-input :disabled="disabled" v-model="form_detail.travauxMaterialisation6.nombre" class="nbInput" v-bind:class="{ highlightEmolument: Number(form_detail.travauxMaterialisation6.nombre)>0, hideNulls: Number(form_detail.travauxMaterialisation6.nombre)==0 }" @keyup="updateMontants()" @focus="$event.target.select()" onkeypress="return /[0-9]|[.]/g.test(event.key)"></md-input></md-field></td>
                  <td class="tg-0lax montant alignRight"><span v-if="Number(form_detail.travauxMaterialisation6.montant>0)">{{ form_detail.travauxMaterialisation6.montant }} CHF</span></td>
                <template v-for="i in form_general.nb_batiments">
                    <td class="tg-0lax nombre batiment-separator notEditable"></td>
                    <td class="tg-0lax montant notEditable"></td>
                  </template>
                </tr>
                <tr>
                  <td class="tg-0lax code">.17</td>
                  <td class="tg-0lax position">{{ form_detail.travauxMaterialisation7.nom }}</td>
                  <td class="tg-0lax alignCenter unite">{{ form_detail.travauxMaterialisation7.unite }}</td>
                  <td class="tg-0lax alignRight prix_unitaire">{{ form_detail.travauxMaterialisation7.prix_unitaire }} CHF</td>
                  <td class="tg-0lax nombre"><md-field class="nbField"><md-input :disabled="disabled" v-model="form_detail.travauxMaterialisation7.nombre" class="nbInput" v-bind:class="{ highlightEmolument: Number(form_detail.travauxMaterialisation7.nombre)>0, hideNulls: Number(form_detail.travauxMaterialisation7.nombre)==0 }" @keyup="updateMontants()" @focus="$event.target.select()" onkeypress="return /[0-9]|[.]/g.test(event.key)"></md-input></md-field></td>
                  <td class="tg-0lax montant alignRight"><span v-if="Number(form_detail.travauxMaterialisation7.montant>0)">{{ form_detail.travauxMaterialisation7.montant }} CHF</span></td>
                <template v-for="i in form_general.nb_batiments">
                    <td class="tg-0lax nombre batiment-separator notEditable"></td>
                    <td class="tg-0lax montant notEditable"></td>
                  </template>
                </tr>
                <tr>
                  <td class="tg-0lax subtitle" :colspan="6 + 2*Number(form_general.nb_batiments)">3.3 Matériel</td>
                </tr>
                <tr>
                  <td class="tg-0lax code"></td>
                  <td class="tg-0lax position">{{ form_detail.travauxMaterialisation8.nom }}</td>
                  <td class="tg-0lax alignCenter unite">{{ form_detail.travauxMaterialisation8.unite }}</td>
                  <td class="tg-0lax alignRight prix_unitaire">{{ form_detail.travauxMaterialisation8.prix_unitaire }} CHF</td>
                  <td class="tg-0lax nombre"><md-field class="nbField"><md-input :disabled="disabled" v-model="form_detail.travauxMaterialisation8.nombre" class="nbInput" v-bind:class="{ highlightEmolument: Number(form_detail.travauxMaterialisation8.nombre)>0, hideNulls: Number(form_detail.travauxMaterialisation8.nombre)==0 }" @keyup="updateMontants()" @focus="$event.target.select()" onkeypress="return /[0-9]|[.]/g.test(event.key)"></md-input></md-field></td>
                  <td class="tg-0lax montant alignRight"><span v-if="Number(form_detail.travauxMaterialisation8.montant>0)">{{ form_detail.travauxMaterialisation8.montant }} CHF</span></td>
                <template v-for="i in form_general.nb_batiments">
                    <td class="tg-0lax nombre batiment-separator notEditable"></td>
                    <td class="tg-0lax montant notEditable"></td>
                  </template>
                </tr>
                <tr>
                  <td class="tg-0lax code"></td>
                  <td class="tg-0lax position">{{ form_detail.travauxMaterialisation9.nom }}</td>
                  <td class="tg-0lax alignCenter unite">{{ form_detail.travauxMaterialisation9.unite }}</td>
                  <td class="tg-0lax alignRight prix_unitaire">{{ form_detail.travauxMaterialisation9.prix_unitaire }} CHF</td>
                  <td class="tg-0lax nombre"><md-field class="nbField"><md-input :disabled="disabled" v-model="form_detail.travauxMaterialisation9.nombre" class="nbInput" v-bind:class="{ highlightEmolument: Number(form_detail.travauxMaterialisation9.nombre)>0, hideNulls: Number(form_detail.travauxMaterialisation9.nombre)==0 }" @keyup="updateMontants()" @focus="$event.target.select()" onkeypress="return /[0-9]|[.]/g.test(event.key)"></md-input></md-field></td>
                  <td class="tg-0lax montant alignRight"><span v-if="Number(form_detail.travauxMaterialisation9.montant>0)">{{ form_detail.travauxMaterialisation9.montant }} CHF</span></td>
                <template v-for="i in form_general.nb_batiments">
                    <td class="tg-0lax nombre batiment-separator notEditable"></td>
                    <td class="tg-0lax montant notEditable"></td>
                  </template>
                </tr>
                <tr>
                  <td class="tg-0lax code"></td>
                  <td class="tg-0lax position">{{ form_detail.travauxMaterialisation10.nom }}</td>
                  <td class="tg-0lax alignCenter unite">{{ form_detail.travauxMaterialisation10.unite }}</td>
                  <td class="tg-0lax alignRight prix_unitaire">{{ form_detail.travauxMaterialisation10.prix_unitaire }} CHF</td>
                  <td class="tg-0lax nombre"><md-field class="nbField"><md-input :disabled="disabled" v-model="form_detail.travauxMaterialisation10.nombre" class="nbInput" v-bind:class="{ highlightEmolument: Number(form_detail.travauxMaterialisation10.nombre)>0, hideNulls: Number(form_detail.travauxMaterialisation10.nombre)==0 }" @keyup="updateMontants()" @focus="$event.target.select()" onkeypress="return /[0-9]|[.]/g.test(event.key)"></md-input></md-field></td>
                  <td class="tg-0lax montant alignRight"><span v-if="Number(form_detail.travauxMaterialisation10.montant>0)">{{ form_detail.travauxMaterialisation10.montant }} CHF</span></td>
                <template v-for="i in form_general.nb_batiments">
                    <td class="tg-0lax nombre batiment-separator notEditable"></td>
                    <td class="tg-0lax montant notEditable"></td>
                  </template>
                </tr>
                <tr>
                  <td class="tg-0lax code"></td>
                  <td class="tg-0lax position">{{ form_detail.travauxMaterialisation11.nom }}</td>
                  <td class="tg-0lax alignCenter unite">{{ form_detail.travauxMaterialisation11.unite }}</td>
                  <td class="tg-0lax alignRight prix_unitaire">{{ form_detail.travauxMaterialisation11.prix_unitaire }} CHF</td>
                  <td class="tg-0lax nombre"><md-field class="nbField"><md-input :disabled="disabled" v-model="form_detail.travauxMaterialisation11.nombre" class="nbInput" v-bind:class="{ highlightEmolument: Number(form_detail.travauxMaterialisation11.nombre)>0, hideNulls: Number(form_detail.travauxMaterialisation11.nombre)==0 }" @keyup="updateMontants()" @focus="$event.target.select()" onkeypress="return /[0-9]|[.]/g.test(event.key)"></md-input></md-field></td>
                  <td class="tg-0lax montant alignRight"><span v-if="Number(form_detail.travauxMaterialisation11.montant>0)">{{ form_detail.travauxMaterialisation11.montant }} CHF</span></td>
                <template v-for="i in form_general.nb_batiments">
                    <td class="tg-0lax nombre batiment-separator notEditable"></td>
                    <td class="tg-0lax montant notEditable"></td>
                  </template>
                </tr>
                <tr>
                  <td class="tg-0lax code"></td>
                  <td class="tg-0lax position">{{ form_detail.travauxMaterialisation12.nom }}</td>
                  <td class="tg-0lax alignCenter unite">{{ form_detail.travauxMaterialisation12.unite }}</td>
                  <td class="tg-0lax alignRight prix_unitaire">{{ form_detail.travauxMaterialisation12.prix_unitaire }} CHF</td>
                  <td class="tg-0lax nombre"><md-field class="nbField"><md-input :disabled="disabled" v-model="form_detail.travauxMaterialisation12.nombre" class="nbInput" v-bind:class="{ highlightEmolument: Number(form_detail.travauxMaterialisation12.nombre)>0, hideNulls: Number(form_detail.travauxMaterialisation12.nombre)==0 }" @keyup="updateMontants()" @focus="$event.target.select()" onkeypress="return /[0-9]|[.]/g.test(event.key)"></md-input></md-field></td>
                  <td class="tg-0lax montant alignRight"><span v-if="Number(form_detail.travauxMaterialisation12.montant>0)">{{ form_detail.travauxMaterialisation12.montant }} CHF</span></td>
                <template v-for="i in form_general.nb_batiments">
                    <td class="tg-0lax nombre batiment-separator notEditable"></td>
                    <td class="tg-0lax montant notEditable"></td>
                  </template>
                </tr>
                <tr>
                  <td class="tg-0lax code"></td>
                  <td class="tg-0lax position">{{ form_detail.travauxMaterialisation13.nom }}</td>
                  <td class="tg-0lax alignCenter unite">{{ form_detail.travauxMaterialisation13.unite }}</td>
                  <td class="tg-0lax alignRight prix_unitaire">{{ form_detail.travauxMaterialisation13.prix_unitaire }} CHF</td>
                  <td class="tg-0lax nombre"><md-field class="nbField"><md-input :disabled="disabled" v-model="form_detail.travauxMaterialisation13.nombre" class="nbInput" v-bind:class="{ highlightEmolument: Number(form_detail.travauxMaterialisation13.nombre)>0, hideNulls: Number(form_detail.travauxMaterialisation13.nombre)==0 }" @keyup="updateMontants()" @focus="$event.target.select()" onkeypress="return /[0-9]|[.]/g.test(event.key)"></md-input></md-field></td>
                  <td class="tg-0lax montant alignRight"><span v-if="Number(form_detail.travauxMaterialisation13.montant>0)">{{ form_detail.travauxMaterialisation13.montant }} CHF</span></td>
                <template v-for="i in form_general.nb_batiments">
                    <td class="tg-0lax nombre batiment-separator notEditable"></td>
                    <td class="tg-0lax montant notEditable"></td>
                  </template>
                </tr>
                <tr>
                  <td class="tg-0lax subtitle" :colspan="6 + 2*Number(form_general.nb_batiments)">3.4 Matérialisation différée</td>
                </tr>
                
                <tr>
                  <td class="tg-0lax code"></td>
                  <td class="tg-0lax position">Points</td>
                  <td class="tg-0lax alignCenter unite">{{ form_detail.travauxMaterialisation14.unite }}</td>
                  <td class="tg-0lax alignCenter prix_unitaire">Voir ci-dessous</td>
                  <td class="tg-0lax nombre"><md-field class="nbField"><md-input :disabled="disabled" v-model="pointsMatDiff_nombre" class="nbInput" v-bind:class="{ highlightEmolument: Number(pointsMatDiff_nombre)>0, hideNulls: Number(pointsMatDiff_nombre)==0}" @keyup="updateMatDiff()" @focus="$event.target.select()" onkeypress="return /[0-9]|[.]/g.test(event.key)"></md-input></md-field></td>
                  <td class="tg-0lax montant alignRight"><span v-if="Number(total.montant_34_matdiff)>0">{{ total.montant_34_matdiff }} CHF</span></td>
                  <template v-for="i in form_general.nb_batiments">
                    <td class="tg-0lax nombre batiment-separator notEditable"></td>
                    <td class="tg-0lax montant notEditable"></td>
                  </template>
                </tr>
                <tr>
                  <td class="tg-0pky tabulation" colspan="5">Total 3.1,2</td>
                  <td class="tg-0pky montant alignRight">{{ total.montant_31_32_std_compl }} CHF</td>
                  <template v-for="i in form_general.nb_batiments">
                    <td class="tg-0lax nombre batiment-separator notEditable"></td>
                    <td class="tg-0lax montant notEditable"></td>
                  </template>
                </tr>
                <tr>
                  <td class="tg-0pky tabulation-2" colspan="5">x supplément terrain zi</td>
                  <td class="tg-0pky montant alignRight">{{ total.montant_31_32_std_compl_zi }} CHF</td>
                  <template v-for="i in form_general.nb_batiments">
                    <td class="tg-0lax nombre batiment-separator notEditable"></td>
                    <td class="tg-0lax montant notEditable"></td>
                  </template>
                </tr>
                <tr>
                  <td class="tg-0pky tabulation" colspan="5">Total 3.3</td>
                  <td class="tg-0pky montant alignRight">{{ total.montant_33_materiel }} CHF</td>
                  <template v-for="i in form_general.nb_batiments">
                    <td class="tg-0lax nombre batiment-separator notEditable"></td>
                    <td class="tg-0lax montant notEditable"></td>
                  </template>
                </tr>
                <tr>
                  <td class="tg-0pky tabulation" colspan="5">Total 3.4</td>
                  <td class="tg-0pky montant alignRight">{{ total.montant_34_matdiff }} CHF</td>
                  <template v-for="i in form_general.nb_batiments">
                    <td class="tg-0lax nombre batiment-separator notEditable"></td>
                    <td class="tg-0lax montant notEditable"></td>
                  </template>
                </tr>
                <tr>
                  <td class="tg-0pky" colspan="5">Total intermédiaire</td>
                  <td class="tg-0pky montant montantTotal alignRight">{{ total.montant_travauxMaterialisation_total }} CHF</td>
                  <template v-for="i in form_general.nb_batiments">
                    <td class="tg-0lax nombre batiment-separator notEditable"></td>
                    <td class="tg-0lax montant notEditable"></td>
                  </template>
                </tr>
                <tr class="rowChapterDistinction">
                  <td class="chapter" :rowspan="Number(form_general.nb_batiments) > 0? 53: 51" style="background-color: rgba(21, 91, 241, 0.5);">4. Bureau</td>
                  <td class="tg-0lax subtitle" :colspan="6 + 2* Number(form_general.nb_batiments)">4.1 Points fixes planimétriques</td>
                </tr>
                <tr>
                  <td class="tg-0lax code">.11</td>
                  <td class="tg-0lax position">{{ form_detail.travauxBureau1.nom }}</td>
                  <td class="tg-0lax alignCenter unite">{{ form_detail.travauxBureau1.unite }}</td>
                  <td class="tg-0lax alignRight prix_unitaire">{{ form_detail.travauxBureau1.prix_unitaire }} CHF</td>
                  <td class="tg-0lax nombre"><md-field class="nbField"><md-input :disabled="disabled" v-model="form_detail.travauxBureau1.nombre" class="nbInput" v-bind:class="{ highlightEmolument: Number(form_detail.travauxBureau1.nombre)>0, hideNulls: Number(form_detail.travauxBureau1.nombre)==0 }" @keyup="updateMontants()" @focus="$event.target.select()" onkeypress="return /[0-9]|[.]/g.test(event.key)"></md-input></md-field></td>
                  <td class="tg-0lax montant alignRight"><span v-if="Number(form_detail.travauxBureau1.montant>0)">{{ form_detail.travauxBureau1.montant }} CHF</span></td>
                  <template v-for="i in form_general.nb_batiments">
                    <td class="tg-0lax nombre batiment-separator"><md-field class="nbField"><md-input :disabled="disabled" v-model="form_detail_batiment[i-1].travauxBureau1.nombre" class="nbInput" v-bind:class="{ highlightEmolument: Number(form_detail_batiment[i-1].travauxBureau1.nombre)>0, hideNulls: Number(form_detail_batiment[i-1].travauxBureau1.nombre)==0 }" @keyup="updateMontants()" @focus="$event.target.select()" onkeypress="return /[0-9]|[.]/g.test(event.key)"></md-input></md-field></td>
                    <td class="tg-0lax montant alignRight"><span v-if="Number(form_detail_batiment[i-1].travauxBureau1.montant>0)">{{ form_detail_batiment[i-1].travauxBureau1.montant }} CHF</span></td>
                  </template>
                </tr>
                <tr>
                  <td class="tg-0lax code">.12</td>
                  <td class="tg-0lax position">{{ form_detail.travauxBureau2.nom }}</td>
                  <td class="tg-0lax alignCenter unite">{{ form_detail.travauxBureau2.unite }}</td>
                  <td class="tg-0lax alignRight prix_unitaire">{{ form_detail.travauxBureau2.prix_unitaire }} CHF</td>
                  <td class="tg-0lax nombre"><md-field class="nbField"><md-input :disabled="disabled" v-model="form_detail.travauxBureau2.nombre" class="nbInput" v-bind:class="{ highlightEmolument: Number(form_detail.travauxBureau2.nombre)>0, hideNulls: Number(form_detail.travauxBureau2.nombre)==0 }" @keyup="updateMontants()" @focus="$event.target.select()" onkeypress="return /[0-9]|[.]/g.test(event.key)"></md-input></md-field></td>
                  <td class="tg-0lax montant alignRight"><span v-if="Number(form_detail.travauxBureau2.montant>0)">{{ form_detail.travauxBureau2.montant }} CHF</span></td>
                  <template v-for="i in form_general.nb_batiments">
                    <td class="tg-0lax nombre batiment-separator"><md-field class="nbField"><md-input :disabled="disabled" v-model="form_detail_batiment[i-1].travauxBureau2.nombre" class="nbInput" v-bind:class="{ highlightEmolument: Number(form_detail_batiment[i-1].travauxBureau2.nombre)>0, hideNulls: Number(form_detail_batiment[i-1].travauxBureau2.nombre)==0 }" @keyup="updateMontants()" @focus="$event.target.select()" onkeypress="return /[0-9]|[.]/g.test(event.key)"></md-input></md-field></td>
                    <td class="tg-0lax montant alignRight"><span v-if="Number(form_detail_batiment[i-1].travauxBureau2.montant>0)">{{ form_detail_batiment[i-1].travauxBureau2.montant }} CHF</span></td>
                  </template>
                </tr>
                <tr>
                  <td class="tg-0lax code">.13</td>
                  <td class="tg-0lax position">{{ form_detail.travauxBureau3.nom }}</td>
                  <td class="tg-0lax alignCenter unite">{{ form_detail.travauxBureau3.unite }}</td>
                  <td class="tg-0lax alignRight prix_unitaire">{{ form_detail.travauxBureau3.prix_unitaire }} CHF</td>
                  <td class="tg-0lax nombre"><md-field class="nbField"><md-input :disabled="disabled" v-model="form_detail.travauxBureau3.nombre" class="nbInput" v-bind:class="{ highlightEmolument: Number(form_detail.travauxBureau3.nombre)>0, hideNulls: Number(form_detail.travauxBureau3.nombre)==0 }" @keyup="updateMontants()" @focus="$event.target.select()" onkeypress="return /[0-9]|[.]/g.test(event.key)"></md-input></md-field></td>
                  <td class="tg-0lax montant alignRight"><span v-if="Number(form_detail.travauxBureau3.montant>0)">{{ form_detail.travauxBureau3.montant }} CHF</span></td>
                  <template v-for="i in form_general.nb_batiments">
                    <td class="tg-0lax nombre batiment-separator"><md-field class="nbField"><md-input :disabled="disabled" v-model="form_detail_batiment[i-1].travauxBureau3.nombre" class="nbInput" v-bind:class="{ highlightEmolument: Number(form_detail_batiment[i-1].travauxBureau3.nombre)>0, hideNulls: Number(form_detail_batiment[i-1].travauxBureau3.nombre)==0 }" @keyup="updateMontants()" @focus="$event.target.select()" onkeypress="return /[0-9]|[.]/g.test(event.key)"></md-input></md-field></td>
                    <td class="tg-0lax montant alignRight"><span v-if="Number(form_detail_batiment[i-1].travauxBureau3.montant>0)">{{ form_detail_batiment[i-1].travauxBureau3.montant }} CHF</span></td>
                  </template>
                </tr>
                <tr>
                  <td class="tg-0lax code"></td>
                  <td class="tg-0lax position">{{ form_detail.travauxBureau4.nom }}</td>
                  <td class="tg-0lax alignCenter unite">{{ form_detail.travauxBureau4.unite }}</td>
                  <td class="tg-0lax alignRight prix_unitaire">{{ form_detail.travauxBureau4.prix_unitaire }} CHF</td>
                  <td class="tg-0lax nombre"><md-field class="nbField"><md-input :disabled="disabled" v-model="form_detail.travauxBureau4.nombre" class="nbInput" v-bind:class="{ highlightEmolument: Number(form_detail.travauxBureau4.nombre)>0, hideNulls: Number(form_detail.travauxBureau4.nombre)==0 }" @keyup="updateMontants()" @focus="$event.target.select()" onkeypress="return /[0-9]|[.]/g.test(event.key)"></md-input></md-field></td>
                  <td class="tg-0lax montant alignRight"><span v-if="Number(form_detail.travauxBureau4.montant>0)">{{ form_detail.travauxBureau4.montant }} CHF</span></td>
                  <template v-for="i in form_general.nb_batiments">
                    <td class="tg-0lax nombre batiment-separator"><md-field class="nbField"><md-input :disabled="disabled" v-model="form_detail_batiment[i-1].travauxBureau4.nombre" class="nbInput" v-bind:class="{ highlightEmolument: Number(form_detail_batiment[i-1].travauxBureau4.nombre)>0, hideNulls: Number(form_detail_batiment[i-1].travauxBureau4.nombre)==0 }" @keyup="updateMontants()" @focus="$event.target.select()" onkeypress="return /[0-9]|[.]/g.test(event.key)"></md-input></md-field></td>
                    <td class="tg-0lax montant alignRight"><span v-if="Number(form_detail_batiment[i-1].travauxBureau4.montant>0)">{{ form_detail_batiment[i-1].travauxBureau4.montant }} CHF</span></td>
                  </template>
                </tr>
                <tr>
                  <td class="tg-0lax code">.14</td>
                  <td class="tg-0lax position">{{ form_detail.travauxBureau5.nom }}</td>
                  <td class="tg-0lax alignCenter unite">{{ form_detail.travauxBureau5.unite }}</td>
                  <td class="tg-0lax alignRight prix_unitaire">{{ form_detail.travauxBureau5.prix_unitaire }} CHF</td>
                  <td class="tg-0lax nombre"><md-field class="nbField"><md-input :disabled="disabled" v-model="form_detail.travauxBureau5.nombre" class="nbInput" v-bind:class="{ highlightEmolument: Number(form_detail.travauxBureau5.nombre)>0, hideNulls: Number(form_detail.travauxBureau5.nombre)==0 }" @keyup="updateMontants()" @focus="$event.target.select()" onkeypress="return /[0-9]|[.]/g.test(event.key)"></md-input></md-field></td>
                  <td class="tg-0lax montant alignRight"><span v-if="Number(form_detail.travauxBureau5.montant>0)">{{ form_detail.travauxBureau5.montant }} CHF</span></td>
                  <template v-for="i in form_general.nb_batiments">
                    <td class="tg-0lax nombre batiment-separator"><md-field class="nbField"><md-input :disabled="disabled" v-model="form_detail_batiment[i-1].travauxBureau5.nombre" class="nbInput" v-bind:class="{ highlightEmolument: Number(form_detail_batiment[i-1].travauxBureau5.nombre)>0, hideNulls: Number(form_detail_batiment[i-1].travauxBureau5.nombre)==0 }" @keyup="updateMontants()" @focus="$event.target.select()" onkeypress="return /[0-9]|[.]/g.test(event.key)"></md-input></md-field></td>
                    <td class="tg-0lax montant alignRight"><span v-if="Number(form_detail_batiment[i-1].travauxBureau5.montant>0)">{{ form_detail_batiment[i-1].travauxBureau5.montant }} CHF</span></td>
                  </template>
                </tr>
                <tr>
                  <td class="tg-0lax code">.15</td>
                  <td class="tg-0lax position">{{ form_detail.travauxBureau6.nom }}</td>
                  <td class="tg-0lax alignCenter unite">{{ form_detail.travauxBureau6.unite }}</td>
                  <td class="tg-0lax alignRight prix_unitaire">{{ form_detail.travauxBureau6.prix_unitaire }} CHF</td>
                  <td class="tg-0lax nombre"><md-field class="nbField"><md-input :disabled="disabled" v-model="form_detail.travauxBureau6.nombre" class="nbInput" v-bind:class="{ highlightEmolument: Number(form_detail.travauxBureau6.nombre)>0, hideNulls: Number(form_detail.travauxBureau6.nombre)==0 }" @keyup="updateMontants()" @focus="$event.target.select()" onkeypress="return /[0-9]|[.]/g.test(event.key)"></md-input></md-field></td>
                  <td class="tg-0lax montant alignRight"><span v-if="Number(form_detail.travauxBureau6.montant>0)">{{ form_detail.travauxBureau6.montant }} CHF</span></td>
                  <template v-for="i in form_general.nb_batiments">
                    <td class="tg-0lax nombre batiment-separator"><md-field class="nbField"><md-input :disabled="disabled" v-model="form_detail_batiment[i-1].travauxBureau6.nombre" class="nbInput" v-bind:class="{ highlightEmolument: Number(form_detail_batiment[i-1].travauxBureau6.nombre)>0, hideNulls: Number(form_detail_batiment[i-1].travauxBureau6.nombre)==0 }" @keyup="updateMontants()" @focus="$event.target.select()" onkeypress="return /[0-9]|[.]/g.test(event.key)"></md-input></md-field></td>
                    <td class="tg-0lax montant alignRight"><span v-if="Number(form_detail_batiment[i-1].travauxBureau6.montant>0)">{{ form_detail_batiment[i-1].travauxBureau6.montant }} CHF</span></td>
                  </template>
                </tr>
                <tr>
                  <td class="tg-0lax code">.16</td>
                  <td class="tg-0lax position">{{ form_detail.travauxBureau7.nom }}</td>
                  <td class="tg-0lax alignCenter unite">{{ form_detail.travauxBureau7.unite }}</td>
                  <td class="tg-0lax alignRight prix_unitaire">{{ form_detail.travauxBureau7.prix_unitaire }} CHF</td>
                  <td class="tg-0lax nombre"><md-field class="nbField"><md-input :disabled="disabled" v-model="form_detail.travauxBureau7.nombre" class="nbInput" v-bind:class="{ highlightEmolument: Number(form_detail.travauxBureau7.nombre)>0, hideNulls: Number(form_detail.travauxBureau7.nombre)==0 }" @keyup="updateMontants()" @focus="$event.target.select()" onkeypress="return /[0-9]|[.]/g.test(event.key)"></md-input></md-field></td>
                  <td class="tg-0lax montant alignRight"><span v-if="Number(form_detail.travauxBureau7.montant>0)">{{ form_detail.travauxBureau7.montant }} CHF</span></td>
                  <template v-for="i in form_general.nb_batiments">
                    <td class="tg-0lax nombre batiment-separator"><md-field class="nbField"><md-input :disabled="disabled" v-model="form_detail_batiment[i-1].travauxBureau7.nombre" class="nbInput" v-bind:class="{ highlightEmolument: Number(form_detail_batiment[i-1].travauxBureau7.nombre)>0, hideNulls: Number(form_detail_batiment[i-1].travauxBureau7.nombre)==0 }" @keyup="updateMontants()" @focus="$event.target.select()" onkeypress="return /[0-9]|[.]/g.test(event.key)"></md-input></md-field></td>
                    <td class="tg-0lax montant alignRight"><span v-if="Number(form_detail_batiment[i-1].travauxBureau7.montant>0)">{{ form_detail_batiment[i-1].travauxBureau7.montant }} CHF</span></td>
                  </template>
                </tr>
                <tr>
                  <td class="tg-0lax code">.17</td>
                  <td class="tg-0lax position">{{ form_detail.travauxBureau8.nom }}</td>
                  <td class="tg-0lax alignCenter unite">{{ form_detail.travauxBureau8.unite }}</td>
                  <td class="tg-0lax alignRight prix_unitaire">{{ form_detail.travauxBureau8.prix_unitaire }} CHF</td>
                  <td class="tg-0lax nombre"><md-field class="nbField"><md-input :disabled="disabled" v-model="form_detail.travauxBureau8.nombre" class="nbInput" v-bind:class="{ highlightEmolument: Number(form_detail.travauxBureau8.nombre)>0, hideNulls: Number(form_detail.travauxBureau8.nombre)==0 }" @keyup="updateMontants()" @focus="$event.target.select()" onkeypress="return /[0-9]|[.]/g.test(event.key)"></md-input></md-field></td>
                  <td class="tg-0lax montant alignRight"><span v-if="Number(form_detail.travauxBureau8.montant>0)">{{ form_detail.travauxBureau8.montant }} CHF</span></td>
                  <template v-for="i in form_general.nb_batiments">
                    <td class="tg-0lax nombre batiment-separator"><md-field class="nbField"><md-input :disabled="disabled" v-model="form_detail_batiment[i-1].travauxBureau8.nombre" class="nbInput" v-bind:class="{ highlightEmolument: Number(form_detail_batiment[i-1].travauxBureau8.nombre)>0, hideNulls: Number(form_detail_batiment[i-1].travauxBureau8.nombre)==0 }" @keyup="updateMontants()" @focus="$event.target.select()" onkeypress="return /[0-9]|[.]/g.test(event.key)"></md-input></md-field></td>
                    <td class="tg-0lax montant alignRight"><span v-if="Number(form_detail_batiment[i-1].travauxBureau8.montant>0)">{{ form_detail_batiment[i-1].travauxBureau8.montant }} CHF</span></td>
                  </template>
                </tr>
                <tr>
                  <td class="tg-0lax code"></td>
                  <td class="tg-0lax position">{{ form_detail.travauxBureau9.nom }}</td>
                  <td class="tg-0lax alignCenter unite">{{ form_detail.travauxBureau9.unite }}</td>
                  <td class="tg-0lax alignRight prix_unitaire">{{ form_detail.travauxBureau9.prix_unitaire }} CHF</td>
                  <td class="tg-0lax nombre"><md-field class="nbField"><md-input :disabled="disabled" v-model="form_detail.travauxBureau9.nombre" class="nbInput" v-bind:class="{ highlightEmolument: Number(form_detail.travauxBureau9.nombre)>0, hideNulls: Number(form_detail.travauxBureau9.nombre)==0 }" @keyup="updateMontants()" @focus="$event.target.select()" onkeypress="return /[0-9]|[.]/g.test(event.key)"></md-input></md-field></td>
                  <td class="tg-0lax montant alignRight"><span v-if="Number(form_detail.travauxBureau9.montant>0)">{{ form_detail.travauxBureau9.montant }} CHF</span></td>
                  <template v-for="i in form_general.nb_batiments">
                    <td class="tg-0lax nombre batiment-separator"><md-field class="nbField"><md-input :disabled="disabled" v-model="form_detail_batiment[i-1].travauxBureau9.nombre" class="nbInput" v-bind:class="{ highlightEmolument: Number(form_detail_batiment[i-1].travauxBureau9.nombre)>0, hideNulls: Number(form_detail_batiment[i-1].travauxBureau9.nombre)==0 }" @keyup="updateMontants()" @focus="$event.target.select()" onkeypress="return /[0-9]|[.]/g.test(event.key)"></md-input></md-field></td>
                    <td class="tg-0lax montant alignRight"><span v-if="Number(form_detail_batiment[i-1].travauxBureau9.montant>0)">{{ form_detail_batiment[i-1].travauxBureau9.montant }} CHF</span></td>
                  </template>
                </tr>
                <tr>
                  <td class="tg-0lax code">.18</td>
                  <td class="tg-0lax position">{{ form_detail.travauxBureau10.nom }}</td>
                  <td class="tg-0lax alignCenter unite">{{ form_detail.travauxBureau10.unite }}</td>
                  <td class="tg-0lax alignRight prix_unitaire">{{ form_detail.travauxBureau10.prix_unitaire }} CHF</td>
                  <td class="tg-0lax nombre"><md-field class="nbField"><md-input :disabled="disabled" v-model="form_detail.travauxBureau10.nombre" class="nbInput" v-bind:class="{ highlightEmolument: Number(form_detail.travauxBureau10.nombre)>0, hideNulls: Number(form_detail.travauxBureau10.nombre)==0 }" @keyup="updateMontants()" @focus="$event.target.select()" onkeypress="return /[0-9]|[.]/g.test(event.key)"></md-input></md-field></td>
                  <td class="tg-0lax montant alignRight"><span v-if="Number(form_detail.travauxBureau10.montant>0)">{{ form_detail.travauxBureau10.montant }} CHF</span></td>
                  <template v-for="i in form_general.nb_batiments">
                    <td class="tg-0lax nombre batiment-separator"><md-field class="nbField"><md-input :disabled="disabled" v-model="form_detail_batiment[i-1].travauxBureau10.nombre" class="nbInput" v-bind:class="{ highlightEmolument: Number(form_detail_batiment[i-1].travauxBureau10.nombre)>0, hideNulls: Number(form_detail_batiment[i-1].travauxBureau10.nombre)==0 }" @keyup="updateMontants()" @focus="$event.target.select()" onkeypress="return /[0-9]|[.]/g.test(event.key)"></md-input></md-field></td>
                    <td class="tg-0lax montant alignRight"><span v-if="Number(form_detail_batiment[i-1].travauxBureau10.montant>0)">{{ form_detail_batiment[i-1].travauxBureau10.montant }} CHF</span></td>
                  </template>
                </tr>
                <tr>
                  <td class="tg-0lax code">.19</td>
                  <td class="tg-0lax position">{{ form_detail.travauxBureau11.nom }}</td>
                  <td class="tg-0lax alignCenter unite">{{ form_detail.travauxBureau11.unite }}</td>
                  <td class="tg-0lax alignRight prix_unitaire">{{ form_detail.travauxBureau11.prix_unitaire }} CHF</td>
                  <td class="tg-0lax nombre"><md-field class="nbField"><md-input :disabled="disabled" v-model="form_detail.travauxBureau11.nombre" class="nbInput" v-bind:class="{ highlightEmolument: Number(form_detail.travauxBureau11.nombre)>0, hideNulls: Number(form_detail.travauxBureau11.nombre)==0 }" @keyup="updateMontants()" @focus="$event.target.select()" onkeypress="return /[0-9]|[.]/g.test(event.key)"></md-input></md-field></td>
                  <td class="tg-0lax montant alignRight"><span v-if="Number(form_detail.travauxBureau11.montant>0)">{{ form_detail.travauxBureau11.montant }} CHF</span></td>
                  <template v-for="i in form_general.nb_batiments">
                    <td class="tg-0lax nombre batiment-separator"><md-field class="nbField"><md-input :disabled="disabled" v-model="form_detail_batiment[i-1].travauxBureau11.nombre" class="nbInput" v-bind:class="{ highlightEmolument: Number(form_detail_batiment[i-1].travauxBureau11.nombre)>0, hideNulls: Number(form_detail_batiment[i-1].travauxBureau11.nombre)==0 }" @keyup="updateMontants()" @focus="$event.target.select()" onkeypress="return /[0-9]|[.]/g.test(event.key)"></md-input></md-field></td>
                    <td class="tg-0lax montant alignRight"><span v-if="Number(form_detail_batiment[i-1].travauxBureau11.montant>0)">{{ form_detail_batiment[i-1].travauxBureau11.montant }} CHF</span></td>
                  </template>
                </tr>
                <tr>
                  <td class="tg-0lax code"></td>
                  <td class="tg-0lax position">{{ form_detail.travauxBureau12.nom }}</td>
                  <td class="tg-0lax alignCenter unite">{{ form_detail.travauxBureau12.unite }}</td>
                  <td class="tg-0lax alignRight prix_unitaire">{{ form_detail.travauxBureau12.prix_unitaire }} CHF</td>
                  <td class="tg-0lax nombre"><md-field class="nbField"><md-input :disabled="disabled" v-model="form_detail.travauxBureau12.nombre" class="nbInput" v-bind:class="{ highlightEmolument: Number(form_detail.travauxBureau12.nombre)>0, hideNulls: Number(form_detail.travauxBureau12.nombre)==0 }" @keyup="updateMontants()" @focus="$event.target.select()" onkeypress="return /[0-9]|[.]/g.test(event.key)"></md-input></md-field></td>
                  <td class="tg-0lax montant alignRight"><span v-if="Number(form_detail.travauxBureau12.montant>0)">{{ form_detail.travauxBureau12.montant }} CHF</span></td>
                  <template v-for="i in form_general.nb_batiments">
                    <td class="tg-0lax nombre batiment-separator"><md-field class="nbField"><md-input :disabled="disabled" v-model="form_detail_batiment[i-1].travauxBureau12.nombre" class="nbInput" v-bind:class="{ highlightEmolument: Number(form_detail_batiment[i-1].travauxBureau12.nombre)>0, hideNulls: Number(form_detail_batiment[i-1].travauxBureau12.nombre)==0 }" @keyup="updateMontants()" @focus="$event.target.select()" onkeypress="return /[0-9]|[.]/g.test(event.key)"></md-input></md-field></td>
                    <td class="tg-0lax montant alignRight"><span v-if="Number(form_detail_batiment[i-1].travauxBureau12.montant>0)">{{ form_detail_batiment[i-1].travauxBureau12.montant }} CHF</span></td>
                  </template>
                </tr>
                <tr>
                  <td class="tg-0lax subtitle" :colspan="6 + 2* Number(form_general.nb_batiments)">4.3 Situation</td>
                </tr>
                <tr>
                  <td class="tg-0lax code">.31</td>
                  <td class="tg-0lax position">{{ form_detail.travauxBureau13.nom }}</td>
                  <td class="tg-0lax alignCenter unite">{{ form_detail.travauxBureau13.unite }}</td>
                  <td class="tg-0lax alignRight prix_unitaire">{{ form_detail.travauxBureau13.prix_unitaire }} CHF</td>
                  <td class="tg-0lax nombre"><md-field class="nbField"><md-input :disabled="disabled" v-model="form_detail.travauxBureau13.nombre" class="nbInput" v-bind:class="{ highlightEmolument: Number(form_detail.travauxBureau13.nombre)>0, hideNulls: Number(form_detail.travauxBureau13.nombre)==0 }" @keyup="updateMontants()" @focus="$event.target.select()" onkeypress="return /[0-9]|[.]/g.test(event.key)"></md-input></md-field></td>
                  <td class="tg-0lax montant alignRight"><span v-if="Number(form_detail.travauxBureau13.montant>0)">{{ form_detail.travauxBureau13.montant }} CHF</span></td>
                  <template v-for="i in form_general.nb_batiments">
                    <td class="tg-0lax nombre batiment-separator"><md-field class="nbField"><md-input :disabled="disabled" v-model="form_detail_batiment[i-1].travauxBureau13.nombre" class="nbInput" v-bind:class="{ highlightEmolument: Number(form_detail_batiment[i-1].travauxBureau13.nombre)>0, hideNulls: Number(form_detail_batiment[i-1].travauxBureau13.nombre)==0 }" @keyup="updateMontants()" @focus="$event.target.select()" onkeypress="return /[0-9]|[.]/g.test(event.key)"></md-input></md-field></td>
                    <td class="tg-0lax montant alignRight"><span v-if="Number(form_detail_batiment[i-1].travauxBureau13.montant>0)">{{ form_detail_batiment[i-1].travauxBureau13.montant }} CHF</span></td>
                  </template>
                </tr>
                <tr>
                  <td class="tg-0lax code">.32</td>
                  <td class="tg-0lax position">{{ form_detail.travauxBureau14.nom }}</td>
                  <td class="tg-0lax alignCenter unite">{{ form_detail.travauxBureau14.unite }}</td>
                  <td class="tg-0lax alignRight prix_unitaire">{{ form_detail.travauxBureau14.prix_unitaire }} CHF</td>
                  <td class="tg-0lax nombre"><md-field class="nbField"><md-input :disabled="disabled" v-model="form_detail.travauxBureau14.nombre" class="nbInput" v-bind:class="{ highlightEmolument: Number(form_detail.travauxBureau14.nombre)>0, hideNulls: Number(form_detail.travauxBureau14.nombre)==0 }" @keyup="updateMontants()" @focus="$event.target.select()" onkeypress="return /[0-9]|[.]/g.test(event.key)"></md-input></md-field></td>
                  <td class="tg-0lax montant alignRight"><span v-if="Number(form_detail.travauxBureau14.montant>0)">{{ form_detail.travauxBureau14.montant }} CHF</span></td>
                  <template v-for="i in form_general.nb_batiments">
                    <td class="tg-0lax nombre batiment-separator"><md-field class="nbField"><md-input :disabled="disabled" v-model="form_detail_batiment[i-1].travauxBureau14.nombre" class="nbInput" v-bind:class="{ highlightEmolument: Number(form_detail_batiment[i-1].travauxBureau14.nombre)>0, hideNulls: Number(form_detail_batiment[i-1].travauxBureau14.nombre)==0 }" @keyup="updateMontants()" @focus="$event.target.select()" onkeypress="return /[0-9]|[.]/g.test(event.key)"></md-input></md-field></td>
                    <td class="tg-0lax montant alignRight"><span v-if="Number(form_detail_batiment[i-1].travauxBureau14.montant>0)">{{ form_detail_batiment[i-1].travauxBureau14.montant }} CHF</span></td>
                  </template>
                </tr>
                <tr>
                  <td class="tg-0lax code">.33</td>
                  <td class="tg-0lax position">{{ form_detail.travauxBureau15.nom }}</td>
                  <td class="tg-0lax alignCenter unite">{{ form_detail.travauxBureau15.unite }}</td>
                  <td class="tg-0lax alignRight prix_unitaire">{{ form_detail.travauxBureau15.prix_unitaire }} CHF</td>
                  <td class="tg-0lax nombre"><md-field class="nbField"><md-input :disabled="disabled" v-model="form_detail.travauxBureau15.nombre" class="nbInput" v-bind:class="{ highlightEmolument: Number(form_detail.travauxBureau15.nombre)>0, hideNulls: Number(form_detail.travauxBureau15.nombre)==0 }" @keyup="updateMontants()" @focus="$event.target.select()" onkeypress="return /[0-9]|[.]/g.test(event.key)"></md-input></md-field></td>
                  <td class="tg-0lax montant alignRight"><span v-if="Number(form_detail.travauxBureau15.montant>0)">{{ form_detail.travauxBureau15.montant }} CHF</span></td>
                  <template v-for="i in form_general.nb_batiments">
                    <td class="tg-0lax nombre batiment-separator"><md-field class="nbField"><md-input :disabled="disabled" v-model="form_detail_batiment[i-1].travauxBureau15.nombre" class="nbInput" v-bind:class="{ highlightEmolument: Number(form_detail_batiment[i-1].travauxBureau15.nombre)>0, hideNulls: Number(form_detail_batiment[i-1].travauxBureau15.nombre)==0 }" @keyup="updateMontants()" @focus="$event.target.select()" onkeypress="return /[0-9]|[.]/g.test(event.key)"></md-input></md-field></td>
                    <td class="tg-0lax montant alignRight"><span v-if="Number(form_detail_batiment[i-1].travauxBureau15.montant>0)">{{ form_detail_batiment[i-1].travauxBureau15.montant }} CHF</span></td>
                  </template>
                </tr>
                <tr>
                  <td class="tg-0lax code">.34</td>
                  <td class="tg-0lax position">{{ form_detail.travauxBureau16.nom }}</td>
                  <td class="tg-0lax alignCenter unite">{{ form_detail.travauxBureau16.unite }}</td>
                  <td class="tg-0lax alignRight prix_unitaire">{{ form_detail.travauxBureau16.prix_unitaire }} CHF</td>
                  <td class="tg-0lax nombre"><md-field class="nbField"><md-input :disabled="disabled" v-model="form_detail.travauxBureau16.nombre" class="nbInput" v-bind:class="{ highlightEmolument: Number(form_detail.travauxBureau16.nombre)>0, hideNulls: Number(form_detail.travauxBureau16.nombre)==0 }" @keyup="updateMontants()" @focus="$event.target.select()" onkeypress="return /[0-9]|[.]/g.test(event.key)"></md-input></md-field></td>
                  <td class="tg-0lax montant alignRight"><span v-if="Number(form_detail.travauxBureau16.montant>0)">{{ form_detail.travauxBureau16.montant }} CHF</span></td>
                  <template v-for="i in form_general.nb_batiments">
                    <td class="tg-0lax nombre batiment-separator"><md-field class="nbField"><md-input :disabled="disabled" v-model="form_detail_batiment[i-1].travauxBureau16.nombre" class="nbInput" v-bind:class="{ highlightEmolument: Number(form_detail_batiment[i-1].travauxBureau16.nombre)>0, hideNulls: Number(form_detail_batiment[i-1].travauxBureau16.nombre)==0 }" @keyup="updateMontants()" @focus="$event.target.select()" onkeypress="return /[0-9]|[.]/g.test(event.key)"></md-input></md-field></td>
                    <td class="tg-0lax montant alignRight"><span v-if="Number(form_detail_batiment[i-1].travauxBureau16.montant>0)">{{ form_detail_batiment[i-1].travauxBureau16.montant }} CHF</span></td>
                  </template>
                </tr>
                <tr>
                  <td class="tg-0lax code">.35</td>
                  <td class="tg-0lax position">{{ form_detail.travauxBureau17.nom }}</td>
                  <td class="tg-0lax alignCenter unite">{{ form_detail.travauxBureau17.unite }}</td>
                  <td class="tg-0lax alignRight prix_unitaire">{{ form_detail.travauxBureau17.prix_unitaire }} CHF</td>
                  <td class="tg-0lax nombre"><md-field class="nbField"><md-input :disabled="disabled" v-model="form_detail.travauxBureau17.nombre" class="nbInput" v-bind:class="{ highlightEmolument: Number(form_detail.travauxBureau17.nombre)>0, hideNulls: Number(form_detail.travauxBureau17.nombre)==0 }" @keyup="updateMontants()" @focus="$event.target.select()" onkeypress="return /[0-9]|[.]/g.test(event.key)"></md-input></md-field></td>
                  <td class="tg-0lax montant alignRight"><span v-if="Number(form_detail.travauxBureau17.montant>0)">{{ form_detail.travauxBureau17.montant }} CHF</span></td>
                  <template v-for="i in form_general.nb_batiments">
                    <td class="tg-0lax nombre batiment-separator"><md-field class="nbField"><md-input :disabled="disabled" v-model="form_detail_batiment[i-1].travauxBureau17.nombre" class="nbInput" v-bind:class="{ highlightEmolument: Number(form_detail_batiment[i-1].travauxBureau17.nombre)>0, hideNulls: Number(form_detail_batiment[i-1].travauxBureau17.nombre)==0 }" @keyup="updateMontants()" @focus="$event.target.select()" onkeypress="return /[0-9]|[.]/g.test(event.key)"></md-input></md-field></td>
                    <td class="tg-0lax montant alignRight"><span v-if="Number(form_detail_batiment[i-1].travauxBureau17.montant>0)">{{ form_detail_batiment[i-1].travauxBureau17.montant }} CHF</span></td>
                  </template>
                </tr>
                <tr>
                  <td class="tg-0lax code">.36</td>
                  <td class="tg-0lax position">{{ form_detail.travauxBureau18.nom }}</td>
                  <td class="tg-0lax alignCenter unite">{{ form_detail.travauxBureau18.unite }}</td>
                  <td class="tg-0lax alignRight prix_unitaire">{{ form_detail.travauxBureau18.prix_unitaire }} CHF</td>
                  <td class="tg-0lax nombre"><md-field class="nbField"><md-input :disabled="disabled" v-model="form_detail.travauxBureau18.nombre" class="nbInput" v-bind:class="{ highlightEmolument: Number(form_detail.travauxBureau18.nombre)>0, hideNulls: Number(form_detail.travauxBureau18.nombre)==0 }" @keyup="updateMontants()" @focus="$event.target.select()" onkeypress="return /[0-9]|[.]/g.test(event.key)"></md-input></md-field></td>
                  <td class="tg-0lax montant alignRight"><span v-if="Number(form_detail.travauxBureau18.montant>0)">{{ form_detail.travauxBureau18.montant }} CHF</span></td>
                  <template v-for="i in form_general.nb_batiments">
                    <td class="tg-0lax nombre batiment-separator"><md-field class="nbField"><md-input :disabled="disabled" v-model="form_detail_batiment[i-1].travauxBureau18.nombre" class="nbInput" v-bind:class="{ highlightEmolument: Number(form_detail_batiment[i-1].travauxBureau18.nombre)>0, hideNulls: Number(form_detail_batiment[i-1].travauxBureau18.nombre)==0 }" @keyup="updateMontants()" @focus="$event.target.select()" onkeypress="return /[0-9]|[.]/g.test(event.key)"></md-input></md-field></td>
                    <td class="tg-0lax montant alignRight"><span v-if="Number(form_detail_batiment[i-1].travauxBureau18.montant>0)">{{ form_detail_batiment[i-1].travauxBureau18.montant }} CHF</span></td>
                  </template>
                </tr>
                <tr>
                  <td class="tg-0lax code"></td>
                  <td class="tg-0lax position">{{ form_detail.travauxBureau19.nom }}</td>
                  <td class="tg-0lax alignCenter unite">{{ form_detail.travauxBureau19.unite }}</td>
                  <td class="tg-0lax alignRight prix_unitaire">{{ form_detail.travauxBureau19.prix_unitaire }} CHF</td>
                  <td class="tg-0lax nombre"><md-field class="nbField"><md-input :disabled="disabled" v-model="form_detail.travauxBureau19.nombre" class="nbInput" v-bind:class="{ highlightEmolument: Number(form_detail.travauxBureau19.nombre)>0, hideNulls: Number(form_detail.travauxBureau19.nombre)==0 }" @keyup="updateMontants()" @focus="$event.target.select()" onkeypress="return /[0-9]|[.]/g.test(event.key)"></md-input></md-field></td>
                  <td class="tg-0lax montant alignRight"><span v-if="Number(form_detail.travauxBureau19.montant>0)">{{ form_detail.travauxBureau19.montant }} CHF</span></td>
                  <template v-for="i in form_general.nb_batiments">
                    <td class="tg-0lax nombre batiment-separator"><md-field class="nbField"><md-input :disabled="disabled" v-model="form_detail_batiment[i-1].travauxBureau19.nombre" class="nbInput" v-bind:class="{ highlightEmolument: Number(form_detail_batiment[i-1].travauxBureau19.nombre)>0, hideNulls: Number(form_detail_batiment[i-1].travauxBureau19.nombre)==0 }" @keyup="updateMontants()" @focus="$event.target.select()" onkeypress="return /[0-9]|[.]/g.test(event.key)"></md-input></md-field></td>
                    <td class="tg-0lax montant alignRight"><span v-if="Number(form_detail_batiment[i-1].travauxBureau19.montant>0)">{{ form_detail_batiment[i-1].travauxBureau19.montant }} CHF</span></td>
                  </template>
                </tr>
                <tr>
                  <td class="tg-0lax code">.37</td>
                  <td class="tg-0lax position">{{ form_detail.travauxBureau20.nom }}</td>
                  <td class="tg-0lax alignCenter unite">{{ form_detail.travauxBureau20.unite }}</td>
                  <td class="tg-0lax alignRight prix_unitaire">{{ form_detail.travauxBureau20.prix_unitaire }} CHF</td>
                  <td class="tg-0lax nombre"><md-field class="nbField"><md-input :disabled="disabled" v-model="form_detail.travauxBureau20.nombre" class="nbInput" v-bind:class="{ highlightEmolument: Number(form_detail.travauxBureau20.nombre)>0, hideNulls: Number(form_detail.travauxBureau20.nombre)==0 }" @keyup="updateMontants()" @focus="$event.target.select()" onkeypress="return /[0-9]|[.]/g.test(event.key)"></md-input></md-field></td>
                  <td class="tg-0lax montant alignRight"><span v-if="Number(form_detail.travauxBureau20.montant>0)">{{ form_detail.travauxBureau20.montant }} CHF</span></td>
                  <template v-for="i in form_general.nb_batiments">
                    <td class="tg-0lax nombre batiment-separator"><md-field class="nbField"><md-input :disabled="disabled" v-model="form_detail_batiment[i-1].travauxBureau20.nombre" class="nbInput" v-bind:class="{ highlightEmolument: Number(form_detail_batiment[i-1].travauxBureau20.nombre)>0, hideNulls: Number(form_detail_batiment[i-1].travauxBureau20.nombre)==0 }" @keyup="updateMontants()" @focus="$event.target.select()" onkeypress="return /[0-9]|[.]/g.test(event.key)"></md-input></md-field></td>
                    <td class="tg-0lax montant alignRight"><span v-if="Number(form_detail_batiment[i-1].travauxBureau20.montant>0)">{{ form_detail_batiment[i-1].travauxBureau20.montant }} CHF</span></td>
                  </template>
                </tr>
                <tr>
                  <td class="tg-0lax code">.38</td>
                  <td class="tg-0lax position">{{ form_detail.travauxBureau21.nom }}</td>
                  <td class="tg-0lax alignCenter unite">{{ form_detail.travauxBureau21.unite }}</td>
                  <td class="tg-0lax alignRight prix_unitaire">{{ form_detail.travauxBureau21.prix_unitaire }} CHF</td>
                  <td class="tg-0lax nombre"><md-field class="nbField"><md-input :disabled="disabled" v-model="form_detail.travauxBureau21.nombre" class="nbInput" v-bind:class="{ highlightEmolument: Number(form_detail.travauxBureau21.nombre)>0, hideNulls: Number(form_detail.travauxBureau21.nombre)==0 }" @keyup="updateMontants()" @focus="$event.target.select()" onkeypress="return /[0-9]|[.]/g.test(event.key)"></md-input></md-field></td>
                  <td class="tg-0lax montant alignRight"><span v-if="Number(form_detail.travauxBureau21.montant>0)">{{ form_detail.travauxBureau21.montant }} CHF</span></td>
                  <template v-for="i in form_general.nb_batiments">
                    <td class="tg-0lax nombre batiment-separator"><md-field class="nbField"><md-input :disabled="disabled" v-model="form_detail_batiment[i-1].travauxBureau21.nombre" class="nbInput" v-bind:class="{ highlightEmolument: Number(form_detail_batiment[i-1].travauxBureau21.nombre)>0, hideNulls: Number(form_detail_batiment[i-1].travauxBureau21.nombre)==0 }" @keyup="updateMontants()" @focus="$event.target.select()" onkeypress="return /[0-9]|[.]/g.test(event.key)"></md-input></md-field></td>
                    <td class="tg-0lax montant alignRight"><span v-if="Number(form_detail_batiment[i-1].travauxBureau21.montant>0)">{{ form_detail_batiment[i-1].travauxBureau21.montant }} CHF</span></td>
                  </template>
                </tr>
                <tr>
                  <td class="tg-0lax code"></td>
                  <td class="tg-0lax position">{{ form_detail.travauxBureau22.nom }}</td>
                  <td class="tg-0lax alignCenter unite">{{ form_detail.travauxBureau22.unite }}</td>
                  <td class="tg-0lax alignRight prix_unitaire">{{ form_detail.travauxBureau22.prix_unitaire }} CHF</td>
                  <td class="tg-0lax nombre"><md-field class="nbField"><md-input :disabled="disabled" v-model="form_detail.travauxBureau22.nombre" class="nbInput" v-bind:class="{ highlightEmolument: Number(form_detail.travauxBureau22.nombre)>0, hideNulls: Number(form_detail.travauxBureau22.nombre)==0 }" @keyup="updateMontants()" @focus="$event.target.select()" onkeypress="return /[0-9]|[.]/g.test(event.key)"></md-input></md-field></td>
                  <td class="tg-0lax montant alignRight"><span v-if="Number(form_detail.travauxBureau22.montant>0)">{{ form_detail.travauxBureau22.montant }} CHF</span></td>
                  <template v-for="i in form_general.nb_batiments">
                    <td class="tg-0lax nombre batiment-separator"><md-field class="nbField"><md-input :disabled="disabled" v-model="form_detail_batiment[i-1].travauxBureau22.nombre" class="nbInput" v-bind:class="{ highlightEmolument: Number(form_detail_batiment[i-1].travauxBureau22.nombre)>0, hideNulls: Number(form_detail_batiment[i-1].travauxBureau22.nombre)==0 }" @keyup="updateMontants()" @focus="$event.target.select()" onkeypress="return /[0-9]|[.]/g.test(event.key)"></md-input></md-field></td>
                    <td class="tg-0lax montant alignRight"><span v-if="Number(form_detail_batiment[i-1].travauxBureau22.montant>0)">{{ form_detail_batiment[i-1].travauxBureau22.montant }} CHF</span></td>
                  </template>
                </tr>
                <tr>
                  <td class="tg-0lax subtitle" :colspan="6 + 2* Number(form_general.nb_batiments)">4.4 Surfaces</td>
                </tr>
                <tr>
                  <td class="tg-0lax code">.41</td>
                  <td class="tg-0lax position">{{ form_detail.travauxBureau23.nom }}</td>
                  <td class="tg-0lax alignCenter unite">{{ form_detail.travauxBureau23.unite }}</td>
                  <td class="tg-0lax alignRight prix_unitaire">{{ form_detail.travauxBureau23.prix_unitaire }} CHF</td>
                  <td class="tg-0lax nombre"><md-field class="nbField"><md-input :disabled="disabled" v-model="form_detail.travauxBureau23.nombre" class="nbInput" v-bind:class="{ highlightEmolument: Number(form_detail.travauxBureau23.nombre)>0, hideNulls: Number(form_detail.travauxBureau23.nombre)==0 }" @keyup="updateMontants()" @focus="$event.target.select()" onkeypress="return /[0-9]|[.]/g.test(event.key)"></md-input></md-field></td>
                  <td class="tg-0lax montant alignRight"><span v-if="Number(form_detail.travauxBureau23.montant>0)">{{ form_detail.travauxBureau23.montant }} CHF</span></td>
                  <template v-for="i in form_general.nb_batiments">
                    <td class="tg-0lax nombre batiment-separator"><md-field class="nbField"><md-input :disabled="disabled" v-model="form_detail_batiment[i-1].travauxBureau23.nombre" class="nbInput" v-bind:class="{ highlightEmolument: Number(form_detail_batiment[i-1].travauxBureau23.nombre)>0, hideNulls: Number(form_detail_batiment[i-1].travauxBureau23.nombre)==0 }" @keyup="updateMontants()" @focus="$event.target.select()" onkeypress="return /[0-9]|[.]/g.test(event.key)"></md-input></md-field></td>
                    <td class="tg-0lax montant alignRight"><span v-if="Number(form_detail_batiment[i-1].travauxBureau23.montant>0)">{{ form_detail_batiment[i-1].travauxBureau23.montant }} CHF</span></td>
                  </template>
                </tr>
                <tr>
                  <td class="tg-0lax code">.42</td>
                  <td class="tg-0lax position">{{ form_detail.travauxBureau24.nom }}</td>
                  <td class="tg-0lax alignCenter unite">{{ form_detail.travauxBureau24.unite }}</td>
                  <td class="tg-0lax alignRight prix_unitaire">{{ form_detail.travauxBureau24.prix_unitaire }} CHF</td>
                  <td class="tg-0lax nombre"><md-field class="nbField"><md-input :disabled="disabled" v-model="form_detail.travauxBureau24.nombre" class="nbInput" v-bind:class="{ highlightEmolument: Number(form_detail.travauxBureau24.nombre)>0, hideNulls: Number(form_detail.travauxBureau24.nombre)==0 }" @keyup="updateMontants()" @focus="$event.target.select()" onkeypress="return /[0-9]|[.]/g.test(event.key)"></md-input></md-field></td>
                  <td class="tg-0lax montant alignRight"><span v-if="Number(form_detail.travauxBureau24.montant>0)">{{ form_detail.travauxBureau24.montant }} CHF</span></td>
                  <template v-for="i in form_general.nb_batiments">
                    <td class="tg-0lax nombre batiment-separator"><md-field class="nbField"><md-input :disabled="disabled" v-model="form_detail_batiment[i-1].travauxBureau24.nombre" class="nbInput" v-bind:class="{ highlightEmolument: Number(form_detail_batiment[i-1].travauxBureau24.nombre)>0, hideNulls: Number(form_detail_batiment[i-1].travauxBureau24.nombre)==0 }" @keyup="updateMontants()" @focus="$event.target.select()" onkeypress="return /[0-9]|[.]/g.test(event.key)"></md-input></md-field></td>
                    <td class="tg-0lax montant alignRight"><span v-if="Number(form_detail_batiment[i-1].travauxBureau24.montant>0)">{{ form_detail_batiment[i-1].travauxBureau24.montant }} CHF</span></td>
                  </template>
                </tr>
                <tr>
                  <td class="tg-0lax code">.43</td>
                  <td class="tg-0lax position">{{ form_detail.travauxBureau25.nom }}</td>
                  <td class="tg-0lax alignCenter unite">{{ form_detail.travauxBureau25.unite }}</td>
                  <td class="tg-0lax alignRight prix_unitaire">{{ form_detail.travauxBureau25.prix_unitaire }} CHF</td>
                  <td class="tg-0lax nombre"><md-field class="nbField"><md-input :disabled="disabled" v-model="form_detail.travauxBureau25.nombre" class="nbInput" v-bind:class="{ highlightEmolument: Number(form_detail.travauxBureau25.nombre)>0, hideNulls: Number(form_detail.travauxBureau25.nombre)==0 }" @keyup="updateMontants()" @focus="$event.target.select()" onkeypress="return /[0-9]|[.]/g.test(event.key)"></md-input></md-field></td>
                  <td class="tg-0lax montant alignRight"><span v-if="Number(form_detail.travauxBureau25.montant>0)">{{ form_detail.travauxBureau25.montant }} CHF</span></td>
                  <template v-for="i in form_general.nb_batiments">
                    <td class="tg-0lax nombre batiment-separator"><md-field class="nbField"><md-input :disabled="disabled" v-model="form_detail_batiment[i-1].travauxBureau25.nombre" class="nbInput" v-bind:class="{ highlightEmolument: Number(form_detail_batiment[i-1].travauxBureau25.nombre)>0, hideNulls: Number(form_detail_batiment[i-1].travauxBureau25.nombre)==0 }" @keyup="updateMontants()" @focus="$event.target.select()" onkeypress="return /[0-9]|[.]/g.test(event.key)"></md-input></md-field></td>
                    <td class="tg-0lax montant alignRight"><span v-if="Number(form_detail_batiment[i-1].travauxBureau25.montant>0)">{{ form_detail_batiment[i-1].travauxBureau25.montant }} CHF</span></td>
                  </template>
                </tr>
                <tr>
                  <td class="tg-0lax code">.44</td>
                  <td class="tg-0lax position">{{ form_detail.travauxBureau26.nom }}</td>
                  <td class="tg-0lax alignCenter unite">{{ form_detail.travauxBureau26.unite }}</td>
                  <td class="tg-0lax alignRight prix_unitaire">{{ form_detail.travauxBureau26.prix_unitaire }} CHF</td>
                  <td class="tg-0lax nombre"><md-field class="nbField"><md-input :disabled="disabled" v-model="form_detail.travauxBureau26.nombre" class="nbInput" v-bind:class="{ highlightEmolument: Number(form_detail.travauxBureau26.nombre)>0, hideNulls: Number(form_detail.travauxBureau26.nombre)==0 }" @keyup="updateMontants()" @focus="$event.target.select()" onkeypress="return /[0-9]|[.]/g.test(event.key)"></md-input></md-field></td>
                  <td class="tg-0lax montant alignRight"><span v-if="Number(form_detail.travauxBureau26.montant>0)">{{ form_detail.travauxBureau26.montant }} CHF</span></td>
                  <template v-for="i in form_general.nb_batiments">
                    <td class="tg-0lax nombre batiment-separator"><md-field class="nbField"><md-input :disabled="disabled" v-model="form_detail_batiment[i-1].travauxBureau26.nombre" class="nbInput" v-bind:class="{ highlightEmolument: Number(form_detail_batiment[i-1].travauxBureau26.nombre)>0, hideNulls: Number(form_detail_batiment[i-1].travauxBureau26.nombre)==0 }" @keyup="updateMontants()" @focus="$event.target.select()" onkeypress="return /[0-9]|[.]/g.test(event.key)"></md-input></md-field></td>
                    <td class="tg-0lax montant alignRight"><span v-if="Number(form_detail_batiment[i-1].travauxBureau26.montant>0)">{{ form_detail_batiment[i-1].travauxBureau26.montant }} CHF</span></td>
                  </template>
                </tr>
                <tr>
                  <td class="tg-0lax code">.45</td>
                  <td class="tg-0lax position">{{ form_detail.travauxBureau27.nom }}</td>
                  <td class="tg-0lax alignCenter unite">{{ form_detail.travauxBureau27.unite }}</td>
                  <td class="tg-0lax alignRight prix_unitaire">{{ form_detail.travauxBureau27.prix_unitaire }} CHF</td>
                  <td class="tg-0lax nombre"><md-field class="nbField"><md-input :disabled="disabled" v-model="form_detail.travauxBureau27.nombre" class="nbInput" v-bind:class="{ highlightEmolument: Number(form_detail.travauxBureau27.nombre)>0, hideNulls: Number(form_detail.travauxBureau27.nombre)==0 }" @keyup="updateMontants()" @focus="$event.target.select()" onkeypress="return /[0-9]|[.]/g.test(event.key)"></md-input></md-field></td>
                  <td class="tg-0lax montant alignRight"><span v-if="Number(form_detail.travauxBureau27.montant>0)">{{ form_detail.travauxBureau27.montant }} CHF</span></td>
                  <template v-for="i in form_general.nb_batiments">
                    <td class="tg-0lax nombre batiment-separator"><md-field class="nbField"><md-input :disabled="disabled" v-model="form_detail_batiment[i-1].travauxBureau27.nombre" class="nbInput" v-bind:class="{ highlightEmolument: Number(form_detail_batiment[i-1].travauxBureau27.nombre)>0, hideNulls: Number(form_detail_batiment[i-1].travauxBureau27.nombre)==0 }" @keyup="updateMontants()" @focus="$event.target.select()" onkeypress="return /[0-9]|[.]/g.test(event.key)"></md-input></md-field></td>
                    <td class="tg-0lax montant alignRight"><span v-if="Number(form_detail_batiment[i-1].travauxBureau27.montant>0)">{{ form_detail_batiment[i-1].travauxBureau27.montant }} CHF</span></td>
                  </template>
                </tr>
                <tr>
                  <td class="tg-0lax subtitle" :colspan="6 + 2* Number(form_general.nb_batiments)">4.2 Points limites</td>
                </tr>
                <tr>
                  <td class="tg-0lax code">.21</td>
                  <td class="tg-0lax position">{{ form_detail.travauxBureau28.nom }}</td>
                  <td class="tg-0lax alignCenter unite">{{ form_detail.travauxBureau28.unite }}</td>
                  <td class="tg-0lax alignRight prix_unitaire">{{ form_detail.travauxBureau28.prix_unitaire }} CHF</td>
                  <td class="tg-0lax nombre"><md-field class="nbField"><md-input :disabled="disabled" v-model="form_detail.travauxBureau28.nombre" class="nbInput" v-bind:class="{ highlightEmolument: Number(form_detail.travauxBureau28.nombre)>0, hideNulls: Number(form_detail.travauxBureau28.nombre)==0 }" @keyup="updateMontants()" @focus="$event.target.select()" onkeypress="return /[0-9]|[.]/g.test(event.key)"></md-input></md-field></td>
                  <td class="tg-0lax montant alignRight"><span v-if="Number(form_detail.travauxBureau28.montant>0)">{{ form_detail.travauxBureau28.montant }} CHF</span></td>
                  <template v-for="i in form_general.nb_batiments">
                    <td class="tg-0lax nombre batiment-separator notEditable"></td>
                    <td class="tg-0lax montant notEditable"></td>
                  </template>
                </tr>
                <tr>
                  <td class="tg-0lax code">.22</td>
                  <td class="tg-0lax position">{{ form_detail.travauxBureau29.nom }}</td>
                  <td class="tg-0lax alignCenter unite">{{ form_detail.travauxBureau29.unite }}</td>
                  <td class="tg-0lax alignRight prix_unitaire">{{ form_detail.travauxBureau29.prix_unitaire }} CHF</td>
                  <td class="tg-0lax nombre"><md-field class="nbField"><md-input :disabled="disabled" v-model="form_detail.travauxBureau29.nombre" class="nbInput" v-bind:class="{ highlightEmolument: Number(form_detail.travauxBureau29.nombre)>0, hideNulls: Number(form_detail.travauxBureau29.nombre)==0 }" @keyup="updateMontants()" @focus="$event.target.select()" onkeypress="return /[0-9]|[.]/g.test(event.key)"></md-input></md-field></td>
                  <td class="tg-0lax montant alignRight"><span v-if="Number(form_detail.travauxBureau29.montant>0)">{{ form_detail.travauxBureau29.montant }} CHF</span></td>
                  <template v-for="i in form_general.nb_batiments">
                    <td class="tg-0lax nombre batiment-separator notEditable"></td>
                    <td class="tg-0lax montant notEditable"></td>
                  </template>
                </tr>
                <tr>
                  <td class="tg-0lax code"></td>
                  <td class="tg-0lax position">{{ form_detail.travauxBureau30.nom }}</td>
                  <td class="tg-0lax alignCenter unite">{{ form_detail.travauxBureau30.unite }}</td>
                  <td class="tg-0lax alignRight prix_unitaire">{{ form_detail.travauxBureau30.prix_unitaire }} CHF</td>
                  <td class="tg-0lax nombre"><md-field class="nbField"><md-input :disabled="disabled" v-model="form_detail.travauxBureau30.nombre" class="nbInput" v-bind:class="{ highlightEmolument: Number(form_detail.travauxBureau30.nombre)>0, hideNulls: Number(form_detail.travauxBureau30.nombre)==0 }" @keyup="updateMontants()" @focus="$event.target.select()" onkeypress="return /[0-9]|[.]/g.test(event.key)"></md-input></md-field></td>
                  <td class="tg-0lax montant alignRight"><span v-if="Number(form_detail.travauxBureau30.montant>0)">{{ form_detail.travauxBureau30.montant }} CHF</span></td>
                  <template v-for="i in form_general.nb_batiments">
                    <td class="tg-0lax nombre batiment-separator notEditable"></td>
                    <td class="tg-0lax montant notEditable"></td>
                  </template>
                </tr>
                <tr>
                  <td class="tg-0lax code">.23</td>
                  <td class="tg-0lax position">{{ form_detail.travauxBureau31.nom }}</td>
                  <td class="tg-0lax alignCenter unite">{{ form_detail.travauxBureau31.unite }}</td>
                  <td class="tg-0lax alignRight prix_unitaire">{{ form_detail.travauxBureau31.prix_unitaire }} CHF</td>
                  <td class="tg-0lax nombre"><md-field class="nbField"><md-input :disabled="disabled" v-model="form_detail.travauxBureau31.nombre" class="nbInput" v-bind:class="{ highlightEmolument: Number(form_detail.travauxBureau31.nombre)>0, hideNulls: Number(form_detail.travauxBureau31.nombre)==0 }" @keyup="updateMontants()" @focus="$event.target.select()" onkeypress="return /[0-9]|[.]/g.test(event.key)"></md-input></md-field></td>
                  <td class="tg-0lax montant alignRight"><span v-if="Number(form_detail.travauxBureau31.montant>0)">{{ form_detail.travauxBureau31.montant }} CHF</span></td>
                  <template v-for="i in form_general.nb_batiments">
                    <td class="tg-0lax nombre batiment-separator notEditable"></td>
                    <td class="tg-0lax montant notEditable"></td>
                  </template>
                </tr>
                <tr>
                  <td class="tg-0lax code">.24</td>
                  <td class="tg-0lax position">{{ form_detail.travauxBureau32.nom }}</td>
                  <td class="tg-0lax alignCenter unite">{{ form_detail.travauxBureau32.unite }}</td>
                  <td class="tg-0lax alignRight prix_unitaire">{{ form_detail.travauxBureau32.prix_unitaire }} CHF</td>
                  <td class="tg-0lax nombre"><md-field class="nbField"><md-input :disabled="disabled" v-model="form_detail.travauxBureau32.nombre" class="nbInput" v-bind:class="{ highlightEmolument: Number(form_detail.travauxBureau32.nombre)>0, hideNulls: Number(form_detail.travauxBureau32.nombre)==0 }" @keyup="updateMontants()" @focus="$event.target.select()" onkeypress="return /[0-9]|[.]/g.test(event.key)"></md-input></md-field></td>
                  <td class="tg-0lax montant alignRight"><span v-if="Number(form_detail.travauxBureau32.montant>0)">{{ form_detail.travauxBureau32.montant }} CHF</span></td>
                  <template v-for="i in form_general.nb_batiments">
                    <td class="tg-0lax nombre batiment-separator notEditable"></td>
                    <td class="tg-0lax montant notEditable"></td>
                  </template>
                </tr>
                <tr>
                  <td class="tg-0lax code">.25</td>
                  <td class="tg-0lax position">{{ form_detail.travauxBureau33.nom }}</td>
                  <td class="tg-0lax alignCenter unite">{{ form_detail.travauxBureau33.unite }}</td>
                  <td class="tg-0lax alignRight prix_unitaire">{{ form_detail.travauxBureau33.prix_unitaire }} CHF</td>
                  <td class="tg-0lax nombre"><md-field class="nbField"><md-input :disabled="disabled" v-model="form_detail.travauxBureau33.nombre" class="nbInput" v-bind:class="{ highlightEmolument: Number(form_detail.travauxBureau33.nombre)>0, hideNulls: Number(form_detail.travauxBureau33.nombre)==0 }" @keyup="updateMontants()" @focus="$event.target.select()" onkeypress="return /[0-9]|[.]/g.test(event.key)"></md-input></md-field></td>
                  <td class="tg-0lax montant alignRight"><span v-if="Number(form_detail.travauxBureau33.montant>0)">{{ form_detail.travauxBureau33.montant }} CHF</span></td>
                  <template v-for="i in form_general.nb_batiments">
                    <td class="tg-0lax nombre batiment-separator notEditable"></td>
                    <td class="tg-0lax montant notEditable"></td>
                  </template>
                </tr>
                <tr>
                  <td class="tg-0lax code">.26</td>
                  <td class="tg-0lax position">{{ form_detail.travauxBureau34.nom }}</td>
                  <td class="tg-0lax alignCenter unite">{{ form_detail.travauxBureau34.unite }}</td>
                  <td class="tg-0lax alignRight prix_unitaire">{{ form_detail.travauxBureau34.prix_unitaire }} CHF</td>
                  <td class="tg-0lax nombre"><md-field class="nbField"><md-input :disabled="disabled" v-model="form_detail.travauxBureau34.nombre" class="nbInput" v-bind:class="{ highlightEmolument: Number(form_detail.travauxBureau34.nombre)>0, hideNulls: Number(form_detail.travauxBureau34.nombre)==0 }" @keyup="updateMontants()" @focus="$event.target.select()" onkeypress="return /[0-9]|[.]/g.test(event.key)"></md-input></md-field></td>
                  <td class="tg-0lax montant alignRight"><span v-if="Number(form_detail.travauxBureau34.montant>0)">{{ form_detail.travauxBureau34.montant }} CHF</span></td>
                  <template v-for="i in form_general.nb_batiments">
                    <td class="tg-0lax nombre batiment-separator notEditable"></td>
                    <td class="tg-0lax montant notEditable"></td>
                  </template>
                </tr>
                <tr>
                  <td class="tg-0lax code">.27</td>
                  <td class="tg-0lax position">{{ form_detail.travauxBureau35.nom }}</td>
                  <td class="tg-0lax alignCenter unite">{{ form_detail.travauxBureau35.unite }}</td>
                  <td class="tg-0lax alignRight prix_unitaire">{{ form_detail.travauxBureau35.prix_unitaire }} CHF</td>
                  <td class="tg-0lax nombre"><md-field class="nbField"><md-input :disabled="disabled" v-model="form_detail.travauxBureau35.nombre" class="nbInput" v-bind:class="{ highlightEmolument: Number(form_detail.travauxBureau35.nombre)>0, hideNulls: Number(form_detail.travauxBureau35.nombre)==0 }" @keyup="updateMontants()" @focus="$event.target.select()" onkeypress="return /[0-9]|[.]/g.test(event.key)"></md-input></md-field></td>
                  <td class="tg-0lax montant alignRight"><span v-if="Number(form_detail.travauxBureau35.montant>0)">{{ form_detail.travauxBureau35.montant }} CHF</span></td>
                  <template v-for="i in form_general.nb_batiments">
                    <td class="tg-0lax nombre batiment-separator notEditable"></td>
                    <td class="tg-0lax montant notEditable"></td>
                  </template>
                </tr>
                <tr>
                  <td class="tg-0lax code">.28</td>
                  <td class="tg-0lax position">{{ form_detail.travauxBureau36.nom }}</td>
                  <td class="tg-0lax alignCenter unite">{{ form_detail.travauxBureau36.unite }}</td>
                  <td class="tg-0lax alignRight prix_unitaire">{{ form_detail.travauxBureau36.prix_unitaire }} CHF</td>
                  <td class="tg-0lax nombre"><md-field class="nbField"><md-input :disabled="disabled" v-model="form_detail.travauxBureau36.nombre" class="nbInput" v-bind:class="{ highlightEmolument: Number(form_detail.travauxBureau36.nombre)>0, hideNulls: Number(form_detail.travauxBureau36.nombre)==0 }" @keyup="updateMontants()" @focus="$event.target.select()" onkeypress="return /[0-9]|[.]/g.test(event.key)"></md-input></md-field></td>
                  <td class="tg-0lax montant alignRight"><span v-if="Number(form_detail.travauxBureau36.montant>0)">{{ form_detail.travauxBureau36.montant }} CHF</span></td>
                  <template v-for="i in form_general.nb_batiments">
                    <td class="tg-0lax nombre batiment-separator notEditable"></td>
                    <td class="tg-0lax montant notEditable"></td>
                  </template>
                </tr>
                <tr>
                  <td class="tg-0lax code">.29</td>
                  <td class="tg-0lax position">{{ form_detail.travauxBureau37.nom }}</td>
                  <td class="tg-0lax alignCenter unite">{{ form_detail.travauxBureau37.unite }}</td>
                  <td class="tg-0lax alignRight prix_unitaire">{{ form_detail.travauxBureau37.prix_unitaire }} CHF</td>
                  <td class="tg-0lax nombre"><md-field class="nbField"><md-input :disabled="disabled" v-model="form_detail.travauxBureau37.nombre" class="nbInput" v-bind:class="{ highlightEmolument: Number(form_detail.travauxBureau37.nombre)>0, hideNulls: Number(form_detail.travauxBureau37.nombre)==0 }" @keyup="updateMontants()" @focus="$event.target.select()" onkeypress="return /[0-9]|[.]/g.test(event.key)"></md-input></md-field></td>
                  <td class="tg-0lax montant alignRight"><span v-if="Number(form_detail.travauxBureau37.montant>0)">{{ form_detail.travauxBureau37.montant }} CHF</span></td>
                  <template v-for="i in form_general.nb_batiments">
                    <td class="tg-0lax nombre batiment-separator notEditable"></td>
                    <td class="tg-0lax montant notEditable"></td>
                  </template>
                </tr>
                <tr>
                  <td class="tg-0lax code">.210</td>
                  <td class="tg-0lax position">{{ form_detail.travauxBureau38.nom }}</td>
                  <td class="tg-0lax alignCenter unite">{{ form_detail.travauxBureau38.unite }}</td>
                  <td class="tg-0lax alignRight prix_unitaire">{{ form_detail.travauxBureau38.prix_unitaire }} CHF</td>
                  <td class="tg-0lax nombre"><md-field class="nbField"><md-input :disabled="disabled" v-model="form_detail.travauxBureau38.nombre" class="nbInput" v-bind:class="{ highlightEmolument: Number(form_detail.travauxBureau38.nombre)>0, hideNulls: Number(form_detail.travauxBureau38.nombre)==0 }" @keyup="updateMontants()" @focus="$event.target.select()" onkeypress="return /[0-9]|[.]/g.test(event.key)"></md-input></md-field></td>
                  <td class="tg-0lax montant alignRight"><span v-if="Number(form_detail.travauxBureau38.montant>0)">{{ form_detail.travauxBureau38.montant }} CHF</span></td>
                  <template v-for="i in form_general.nb_batiments">
                    <td class="tg-0lax nombre batiment-separator notEditable"></td>
                    <td class="tg-0lax montant notEditable"></td>
                  </template>
                </tr>
                <tr>
                  <td class="tg-0lax code">.211</td>
                  <td class="tg-0lax position">{{ form_detail.travauxBureau39.nom }}</td>
                  <td class="tg-0lax alignCenter unite">{{ form_detail.travauxBureau39.unite }}</td>
                  <td class="tg-0lax alignRight prix_unitaire">{{ form_detail.travauxBureau39.prix_unitaire }} CHF</td>
                  <td class="tg-0lax nombre"><md-field class="nbField"><md-input :disabled="disabled" v-model="form_detail.travauxBureau39.nombre" class="nbInput" v-bind:class="{ highlightEmolument: Number(form_detail.travauxBureau39.nombre)>0, hideNulls: Number(form_detail.travauxBureau39.nombre)==0 }" @keyup="updateMontants()" @focus="$event.target.select()" onkeypress="return /[0-9]|[.]/g.test(event.key)"></md-input></md-field></td>
                  <td class="tg-0lax montant alignRight"><span v-if="Number(form_detail.travauxBureau39.montant>0)">{{ form_detail.travauxBureau39.montant }} CHF</span></td>
                  <template v-for="i in form_general.nb_batiments">
                    <td class="tg-0lax nombre batiment-separator notEditable"></td>
                    <td class="tg-0lax montant notEditable"></td>
                  </template>
                </tr>
                <tr>
                  <td class="tg-0lax code">.212</td>
                  <td class="tg-0lax position">{{ form_detail.travauxBureau40.nom }}</td>
                  <td class="tg-0lax alignCenter unite">{{ form_detail.travauxBureau40.unite }}</td>
                  <td class="tg-0lax alignRight prix_unitaire">{{ form_detail.travauxBureau40.prix_unitaire }} CHF</td>
                  <td class="tg-0lax nombre"><md-field class="nbField"><md-input :disabled="disabled" v-model="form_detail.travauxBureau40.nombre" class="nbInput" v-bind:class="{ highlightEmolument: Number(form_detail.travauxBureau40.nombre)>0, hideNulls: Number(form_detail.travauxBureau40.nombre)==0 }" @keyup="updateMontants()" @focus="$event.target.select()" onkeypress="return /[0-9]|[.]/g.test(event.key)"></md-input></md-field></td>
                  <td class="tg-0lax montant alignRight"><span v-if="Number(form_detail.travauxBureau40.montant>0)">{{ form_detail.travauxBureau40.montant }} CHF</span></td>
                  <template v-for="i in form_general.nb_batiments">
                    <td class="tg-0lax nombre batiment-separator notEditable"></td>
                    <td class="tg-0lax montant notEditable"></td>
                  </template>
                </tr>
                <tr>
                  <td class="tg-0lax code">.213</td>
                  <td class="tg-0lax position">{{ form_detail.travauxBureau41.nom }}</td>
                  <td class="tg-0lax alignCenter unite">{{ form_detail.travauxBureau41.unite }}</td>
                  <td class="tg-0lax alignRight prix_unitaire">{{ form_detail.travauxBureau41.prix_unitaire }} CHF</td>
                  <td class="tg-0lax nombre"><md-field class="nbField"><md-input :disabled="disabled" v-model="form_detail.travauxBureau41.nombre" class="nbInput" v-bind:class="{ highlightEmolument: Number(form_detail.travauxBureau41.nombre)>0, hideNulls: Number(form_detail.travauxBureau41.nombre)==0 }" @keyup="updateMontants()" @focus="$event.target.select()" onkeypress="return /[0-9]|[.]/g.test(event.key)"></md-input></md-field></td>
                  <td class="tg-0lax montant alignRight"><span v-if="Number(form_detail.travauxBureau41.montant>0)">{{ form_detail.travauxBureau41.montant }} CHF</span></td>
                  <template v-for="i in form_general.nb_batiments">
                    <td class="tg-0lax nombre batiment-separator notEditable"></td>
                    <td class="tg-0lax montant notEditable"></td>
                  </template>
                </tr>
                <tr>
                  <td class="tg-0lax code"></td>
                  <td class="tg-0lax position">{{ form_detail.travauxBureau42.nom }}</td>
                  <td class="tg-0lax alignCenter unite">{{ form_detail.travauxBureau42.unite }}</td>
                  <td class="tg-0lax alignRight prix_unitaire">{{ form_detail.travauxBureau42.prix_unitaire }} CHF</td>
                  <td class="tg-0lax nombre"><md-field class="nbField"><md-input :disabled="disabled" v-model="form_detail.travauxBureau42.nombre" class="nbInput" v-bind:class="{ highlightEmolument: Number(form_detail.travauxBureau42.nombre)>0, hideNulls: Number(form_detail.travauxBureau42.nombre)==0 }" @keyup="updateMontants()" @focus="$event.target.select()" onkeypress="return /[0-9]|[.]/g.test(event.key)"></md-input></md-field></td>
                  <td class="tg-0lax montant alignRight"><span v-if="Number(form_detail.travauxBureau42.montant>0)">{{ form_detail.travauxBureau42.montant }} CHF</span></td>
                  <template v-for="i in form_general.nb_batiments">
                    <td class="tg-0lax nombre batiment-separator notEditable"></td>
                    <td class="tg-0lax montant notEditable"></td>
                  </template>
                </tr>
                <tr>
                  <td class="tg-0lax code">.214</td>
                  <td class="tg-0lax position">{{ form_detail.travauxBureau43.nom }}</td>
                  <td class="tg-0lax alignCenter unite">{{ form_detail.travauxBureau43.unite }}</td>
                  <td class="tg-0lax alignRight prix_unitaire">{{ form_detail.travauxBureau43.prix_unitaire }} CHF</td>
                  <td class="tg-0lax nombre"><md-field class="nbField"><md-input :disabled="disabled" v-model="form_detail.travauxBureau43.nombre" class="nbInput" v-bind:class="{ highlightEmolument: Number(form_detail.travauxBureau43.nombre)>0, hideNulls: Number(form_detail.travauxBureau43.nombre)==0 }" @keyup="updateMontants()" @focus="$event.target.select()" onkeypress="return /[0-9]|[.]/g.test(event.key)"></md-input></md-field></td>
                  <td class="tg-0lax montant alignRight"><span v-if="Number(form_detail.travauxBureau43.montant>0)">{{ form_detail.travauxBureau43.montant }} CHF</span></td>
                  <template v-for="i in form_general.nb_batiments">
                    <td class="tg-0lax nombre batiment-separator notEditable"></td>
                    <td class="tg-0lax montant notEditable"></td>
                  </template>
                </tr>
                <tr>
                  <td class="tg-0lax code">.215</td>
                  <td class="tg-0lax position">{{ form_detail.travauxBureau44.nom }}</td>
                  <td class="tg-0lax alignCenter unite">{{ form_detail.travauxBureau44.unite }}</td>
                  <td class="tg-0lax alignRight prix_unitaire">{{ form_detail.travauxBureau44.prix_unitaire }} CHF</td>
                  <td class="tg-0lax nombre"><md-field class="nbField"><md-input :disabled="disabled" v-model="form_detail.travauxBureau44.nombre" class="nbInput" v-bind:class="{ highlightEmolument: Number(form_detail.travauxBureau44.nombre)>0, hideNulls: Number(form_detail.travauxBureau44.nombre)==0 }" @keyup="updateMontants()" @focus="$event.target.select()" onkeypress="return /[0-9]|[.]/g.test(event.key)"></md-input></md-field></td>
                  <td class="tg-0lax montant alignRight"><span v-if="Number(form_detail.travauxBureau44.montant>0)">{{ form_detail.travauxBureau44.montant }} CHF</span></td>
                  <template v-for="i in form_general.nb_batiments">
                    <td class="tg-0lax nombre batiment-separator notEditable"></td>
                    <td class="tg-0lax montant notEditable"></td>
                  </template>
                </tr>
                <tr>
                  <td class="tg-0lax code"></td>
                  <td class="tg-0lax position">{{ form_detail.travauxBureau45.nom }}</td>
                  <td class="tg-0lax alignCenter unite">{{ form_detail.travauxBureau45.unite }}</td>
                  <td class="tg-0lax alignRight prix_unitaire">{{ form_detail.travauxBureau45.prix_unitaire }} CHF</td>
                  <td class="tg-0lax nombre"><md-field class="nbField"><md-input :disabled="disabled" v-model="form_detail.travauxBureau45.nombre" class="nbInput" v-bind:class="{ highlightEmolument: Number(form_detail.travauxBureau45.nombre)>0, hideNulls: Number(form_detail.travauxBureau45.nombre)==0 }" @keyup="updateMontants()" @focus="$event.target.select()" onkeypress="return /[0-9]|[.]/g.test(event.key)"></md-input></md-field></td>
                  <td class="tg-0lax montant alignRight"><span v-if="Number(form_detail.travauxBureau45.montant>0)">{{ form_detail.travauxBureau45.montant }} CHF</span></td>
                  <template v-for="i in form_general.nb_batiments">
                    <td class="tg-0lax nombre batiment-separator notEditable"></td>
                    <td class="tg-0lax montant notEditable"></td>
                  </template>
                </tr>
                <tr>
                  <td class="tg-0lax code"></td>
                  <td class="tg-0lax position">{{ form_detail.travauxBureau46.nom }}</td>
                  <td class="tg-0lax alignCenter unite">{{ form_detail.travauxBureau46.unite }}</td>
                  <td class="tg-0lax alignRight prix_unitaire">{{ form_detail.travauxBureau46.prix_unitaire }} CHF</td>
                  <td class="tg-0lax nombre"><md-field class="nbField"><md-input :disabled="disabled" v-model="form_detail.travauxBureau46.nombre" class="nbInput" v-bind:class="{ highlightEmolument: Number(form_detail.travauxBureau46.nombre)>0, hideNulls: Number(form_detail.travauxBureau46.nombre)==0 }" @keyup="updateMontants()" @focus="$event.target.select()" onkeypress="return /[0-9]|[.]/g.test(event.key)"></md-input></md-field></td>
                  <td class="tg-0lax montant alignRight"><span v-if="Number(form_detail.travauxBureau46.montant>0)">{{ form_detail.travauxBureau46.montant }} CHF</span></td>
                  <template v-for="i in form_general.nb_batiments">
                    <td class="tg-0lax nombre batiment-separator notEditable"></td>
                    <td class="tg-0lax montant notEditable"></td>
                  </template>
                </tr>
                <tr>
                  <td class="tg-0pky" colspan="5">Somme</td>
                  <td class="tg-0pky montant alignRight">{{ total.montant_travauxBureau_total }} CHF</td>
                  <template v-for="i in form_general.nb_batiments">
                    <td class="tg-0lax nombre batiment-separator notEditable"></td>
                    <td class="tg-0lax montant alignRight">{{ total.montant_travauxBureau_batiment_total[i-1] }} CHF</td>
                  </template>
                </tr>
                <tr v-if="Number(form_general.nb_batiments) > 0">
                  <td class="tg-0pky" colspan="5">Application du facteur de correction lié à la surface du bâtiment</td>
                  <td class="tg-0pky montant notEditable"></td>
                  <template v-for="i in form_general.nb_batiments">
                    <td class="tg-0lax nombre batiment-separator alignCenter">x f</td>
                    <td class="tg-0lax montant alignRight">{{ total.montant_travauxBureau_batiment_total_f[i-1] }} CHF</td>
                  </template>
                </tr>
                <template v-if="Number(form_general.nb_batiments) > 0">
                  <tr>
                    <td class="tg-0pky" colspan="5">Total des travaux de terrain sans bâtiments</td>
                    <td class="tg-0pky montant montantTotal alignRight">{{ total.montant_travauxBureau_total }} CHF</td>
                    <td class="tg-0pky nombre batiment-separator" :colspan="(2* Number(form_general.nb_batiments))-1">Bât.</td>
                    <td class="tg-0pky montant montantTotal alignRight">{{ total.montant_travauxBureau_batiment_total_f_somme }} CHF</td>
                  </tr>
                </template>
                <tr class="rowChapterDistinction">
                  <td class="chapter" rowspan="1" style="background-color: rgba(228, 33, 33, 0.5);"></td>
                  <td class="tg-0lax position" colspan="2">{{ form_detail.deplacementDebours1.nom }}</td>
                  <td class="tg-0lax alignCenter unite">Heure</td>
                  <td class="tg-0lax alignRight prix_unitaire">{{ form_detail.deplacementDebours1.prix_unitaire }} CHF</td>
                  <td class="tg-0lax nombre"><md-field class="nbField"><md-input :disabled="disabled" v-model="form_detail.deplacementDebours1.nombre" class="nbInput" v-bind:class="{ highlightEmolument: Number(form_detail.deplacementDebours1.nombre)>0, hideNulls: Number(form_detail.deplacementDebours1.nombre)==0 }" @keyup="updateMontants()" @focus="$event.target.select()" onkeypress="return /[0-9]|[.]/g.test(event.key)"></md-input></md-field></td>
                  <td class="tg-0lax montant alignRight"><span v-if="Number(form_detail.deplacementDebours1.montant>0)">{{ form_detail.deplacementDebours1.montant }} CHF</span></td>
                  <template v-for="i in form_general.nb_batiments">
                    <td class="tg-0lax nombre batiment-separator notEditable"></td>
                    <td class="tg-0lax montant notEditable"></td>
                  </template>
                </tr>
                <tr class="rowChapterDistinction">
                  <td class="chapter" rowspan="10" style="background-color: rgba(228, 228, 33, 0.5);">5. Divers</td>
                  <td class="tg-0lax code"></td>
                  <td class="tg-0lax position_divers"><md-field class="nbField"><md-input :disabled="disabled" v-model="form_detail.divers1.nom" class="inputText" @focus="$event.target.select()"></md-input></md-field></td>
                  <td class="tg-0lax alignCenter unite">Heure</td>
                  <td class="tg-0lax prix_unitaire"><md-field class="nbField"><md-input :disabled="disabled" v-model="form_detail.divers1.prix_unitaire" class="inputMontant" @keyup="updateMontants()" @focus="$event.target.select()" @focusout="setPrixUnitaireFormat" onkeypress="return /[0-9]|[.]/g.test(event.key)"></md-input>CHF</md-field></td>
                  <td class="tg-0lax nombre alignRight"><md-field class="nbField"><md-input :disabled="disabled" v-model="form_detail.divers1.nombre" class="nbInput" v-bind:class="{ highlightEmolument: Number(form_detail.divers1.nombre)>0, hideNulls: Number(form_detail.divers1.nombre)==0 }" @keyup="updateMontants()" @focus="$event.target.select()" onkeypress="return /[0-9]|[.]/g.test(event.key)"></md-input></md-field></td>
                  <td class="tg-0lax montant alignRight"><span v-if="Number(form_detail.divers1.montant>0)">{{ form_detail.divers1.montant }} CHF</span></td>
                  <template v-for="i in form_general.nb_batiments">
                    <td class="tg-0lax nombre batiment-separator notEditable"></td>
                    <td class="tg-0lax montant notEditable"></td>
                  </template>
                </tr>
                <tr>
                  <td class="tg-0lax code"></td>
                  <td class="tg-0lax position_divers"><md-field class="nbField"><md-input :disabled="disabled" v-model="form_detail.divers2.nom" class="inputText" @focus="$event.target.select()"></md-input></md-field></td>
                  <td class="tg-0lax alignCenter unite">Heure</td>
                  <td class="tg-0lax prix_unitaire"><md-field class="nbField"><md-input :disabled="disabled" v-model="form_detail.divers2.prix_unitaire" class="inputMontant" @keyup="updateMontants()" @focus="$event.target.select()" @focusout="setPrixUnitaireFormat" onkeypress="return /[0-9]|[.]/g.test(event.key)"></md-input>CHF</md-field></td>
                  <td class="tg-0lax nombre alignRight"><md-field class="nbField"><md-input :disabled="disabled" v-model="form_detail.divers2.nombre" class="nbInput" v-bind:class="{ highlightEmolument: Number(form_detail.divers2.nombre)>0, hideNulls: Number(form_detail.divers2.nombre)==0 }" @keyup="updateMontants()" @focus="$event.target.select()" onkeypress="return /[0-9]|[.]/g.test(event.key)"></md-input></md-field></td>
                  <td class="tg-0lax montant alignRight"><span v-if="Number(form_detail.divers2.montant>0)">{{ form_detail.divers2.montant }} CHF</span></td>
                  <template v-for="i in form_general.nb_batiments">
                    <td class="tg-0lax nombre batiment-separator notEditable"></td>
                    <td class="tg-0lax montant notEditable"></td>
                  </template>
                </tr>
                <tr>
                  <td class="tg-0lax code"></td>
                  <td class="tg-0lax position_divers"><md-field class="nbField"><md-input :disabled="disabled" v-model="form_detail.divers3.nom" class="inputText" @focus="$event.target.select()"></md-input></md-field></td>
                  <td class="tg-0lax alignCenter unite">Heure</td>
                  <td class="tg-0lax prix_unitaire"><md-field class="nbField"><md-input :disabled="disabled" v-model="form_detail.divers3.prix_unitaire" class="inputMontant" @keyup="updateMontants()" @focus="$event.target.select()" @focusout="setPrixUnitaireFormat" onkeypress="return /[0-9]|[.]/g.test(event.key)"></md-input>CHF</md-field></td>
                  <td class="tg-0lax nombre alignRight"><md-field class="nbField"><md-input :disabled="disabled" v-model="form_detail.divers3.nombre" class="nbInput" v-bind:class="{ highlightEmolument: Number(form_detail.divers3.nombre)>0, hideNulls: Number(form_detail.divers3.nombre)==0 }" @keyup="updateMontants()" @focus="$event.target.select()" onkeypress="return /[0-9]|[.]/g.test(event.key)"></md-input></md-field></td>
                  <td class="tg-0lax montant alignRight"><span v-if="Number(form_detail.divers3.montant>0)">{{ form_detail.divers3.montant }} CHF</span></td>
                  <template v-for="i in form_general.nb_batiments">
                    <td class="tg-0lax nombre batiment-separator notEditable"></td>
                    <td class="tg-0lax montant notEditable"></td>
                  </template>
                </tr>
                <tr>
                  <td class="tg-0lax code"></td>
                  <td class="tg-0lax position_divers"><md-field class="nbField"><md-input :disabled="disabled" v-model="form_detail.divers4.nom" class="inputText" @focus="$event.target.select()"></md-input></md-field></td>
                  <td class="tg-0lax alignCenter unite">Heure</td>
                  <td class="tg-0lax prix_unitaire"><md-field class="nbField"><md-input :disabled="disabled" v-model="form_detail.divers4.prix_unitaire" class="inputMontant" @keyup="updateMontants()" @focus="$event.target.select()" @focusout="setPrixUnitaireFormat" onkeypress="return /[0-9]|[.]/g.test(event.key)"></md-input>CHF</md-field></td>
                  <td class="tg-0lax nombre alignRight"><md-field class="nbField"><md-input :disabled="disabled" v-model="form_detail.divers4.nombre" class="nbInput" v-bind:class="{ highlightEmolument: Number(form_detail.divers4.nombre)>0, hideNulls: Number(form_detail.divers4.nombre)==0 }" @keyup="updateMontants()" @focus="$event.target.select()" onkeypress="return /[0-9]|[.]/g.test(event.key)"></md-input></md-field></td>
                  <td class="tg-0lax montant alignRight"><span v-if="Number(form_detail.divers4.montant>0)">{{ form_detail.divers4.montant }} CHF</span></td>
                  <template v-for="i in form_general.nb_batiments">
                    <td class="tg-0lax nombre batiment-separator notEditable"></td>
                    <td class="tg-0lax montant notEditable"></td>
                  </template>
                </tr>
                <tr>
                  <td class="tg-0lax code"></td>
                  <td class="tg-0lax position_divers"><md-field class="nbField"><md-input :disabled="disabled" v-model="form_detail.divers5.nom" class="inputText" @focus="$event.target.select()"></md-input></md-field></td>
                  <td class="tg-0lax alignCenter unite">Heure</td>
                  <td class="tg-0lax prix_unitaire"><md-field class="nbField"><md-input :disabled="disabled" v-model="form_detail.divers5.prix_unitaire" class="inputMontant" @keyup="updateMontants()" @focus="$event.target.select()" @focusout="setPrixUnitaireFormat" onkeypress="return /[0-9]|[.]/g.test(event.key)"></md-input>CHF</md-field></td>
                  <td class="tg-0lax nombre alignRight"><md-field class="nbField"><md-input :disabled="disabled" v-model="form_detail.divers5.nombre" class="nbInput" v-bind:class="{ highlightEmolument: Number(form_detail.divers5.nombre)>0, hideNulls: Number(form_detail.divers5.nombre)==0 }" @keyup="updateMontants()" @focus="$event.target.select()" onkeypress="return /[0-9]|[.]/g.test(event.key)"></md-input></md-field></td>
                  <td class="tg-0lax montant alignRight"><span v-if="Number(form_detail.divers5.montant>0)">{{ form_detail.divers5.montant }} CHF</span></td>
                  <template v-for="i in form_general.nb_batiments">
                    <td class="tg-0lax nombre batiment-separator notEditable"></td>
                    <td class="tg-0lax montant notEditable"></td>
                  </template>
                </tr>
                <tr>
                  <td class="tg-0lax code"></td>
                  <td class="tg-0lax position_divers"><md-field class="nbField"><md-input :disabled="disabled" v-model="form_detail.divers6.nom" class="inputText" @focus="$event.target.select()"></md-input></md-field></td>
                  <td class="tg-0lax alignCenter unite">Heure</td>
                  <td class="tg-0lax prix_unitaire"><md-field class="nbField"><md-input :disabled="disabled" v-model="form_detail.divers6.prix_unitaire" class="inputMontant" @keyup="updateMontants()" @focus="$event.target.select()" @focusout="setPrixUnitaireFormat" onkeypress="return /[0-9]|[.]/g.test(event.key)"></md-input>CHF</md-field></td>
                  <td class="tg-0lax nombre alignRight"><md-field class="nbField"><md-input :disabled="disabled" v-model="form_detail.divers6.nombre" class="nbInput" v-bind:class="{ highlightEmolument: Number(form_detail.divers6.nombre)>0, hideNulls: Number(form_detail.divers6.nombre)==0 }" @keyup="updateMontants()" @focus="$event.target.select()" onkeypress="return /[0-9]|[.]/g.test(event.key)"></md-input></md-field></td>
                  <td class="tg-0lax montant alignRight"><span v-if="Number(form_detail.divers6.montant>0)">{{ form_detail.divers6.montant }} CHF</span></td>
                  <template v-for="i in form_general.nb_batiments">
                    <td class="tg-0lax nombre batiment-separator notEditable"></td>
                    <td class="tg-0lax montant notEditable"></td>
                  </template>
                </tr>
                <tr>
                  <td class="tg-0lax code"></td>
                  <td class="tg-0lax position_divers"><md-field class="nbField"><md-input :disabled="disabled" v-model="form_detail.divers7.nom" class="inputText" @focus="$event.target.select()"></md-input></md-field></td>
                  <td class="tg-0lax alignCenter unite">Heure</td>
                  <td class="tg-0lax prix_unitaire"><md-field class="nbField"><md-input :disabled="disabled" v-model="form_detail.divers7.prix_unitaire" class="inputMontant" @keyup="updateMontants()" @focus="$event.target.select()" @focusout="setPrixUnitaireFormat" onkeypress="return /[0-9]|[.]/g.test(event.key)"></md-input>CHF</md-field></td>
                  <td class="tg-0lax nombre alignRight"><md-field class="nbField"><md-input :disabled="disabled" v-model="form_detail.divers7.nombre" class="nbInput" v-bind:class="{ highlightEmolument: Number(form_detail.divers7.nombre)>0, hideNulls: Number(form_detail.divers7.nombre)==0 }" @keyup="updateMontants()" @focus="$event.target.select()" onkeypress="return /[0-9]|[.]/g.test(event.key)"></md-input></md-field></td>
                  <td class="tg-0lax montant alignRight"><span v-if="Number(form_detail.divers7.montant>0)">{{ form_detail.divers7.montant }} CHF</span></td>
                  <template v-for="i in form_general.nb_batiments">
                    <td class="tg-0lax nombre batiment-separator notEditable"></td>
                    <td class="tg-0lax montant notEditable"></td>
                  </template>
                </tr>
                <tr>
                  <td class="tg-0lax code"></td>
                  <td class="tg-0lax position_divers"><md-field class="nbField"><md-input :disabled="disabled" v-model="form_detail.divers8.nom" class="inputText" @focus="$event.target.select()"></md-input></md-field></td>
                  <td class="tg-0lax alignCenter unite">Heure</td>
                  <td class="tg-0lax prix_unitaire"><md-field class="nbField"><md-input :disabled="disabled" v-model="form_detail.divers8.prix_unitaire" class="inputMontant" @keyup="updateMontants()" @focus="$event.target.select()" @focusout="setPrixUnitaireFormat" onkeypress="return /[0-9]|[.]/g.test(event.key)"></md-input>CHF</md-field></td>
                  <td class="tg-0lax nombre alignRight"><md-field class="nbField"><md-input :disabled="disabled" v-model="form_detail.divers8.nombre" class="nbInput" v-bind:class="{ highlightEmolument: Number(form_detail.divers8.nombre)>0, hideNulls: Number(form_detail.divers8.nombre)==0 }" @keyup="updateMontants()" @focus="$event.target.select()" onkeypress="return /[0-9]|[.]/g.test(event.key)"></md-input></md-field></td>
                  <td class="tg-0lax montant alignRight"><span v-if="Number(form_detail.divers8.montant>0)">{{ form_detail.divers8.montant }} CHF</span></td>
                  <template v-for="i in form_general.nb_batiments">
                    <td class="tg-0lax nombre batiment-separator notEditable"></td>
                    <td class="tg-0lax montant notEditable"></td>
                  </template>
                </tr>
                <tr>
                  <td class="tg-0lax code"></td>
                  <td class="tg-0lax position" colspan="4">Relations avec d'autres services (de 50.00 à 200.00 CHF)</td>
                  <td class="tg-0lax montant alignRight"><md-field class="nbField"><md-input :disabled="disabled" v-model="form_detail.relations_autres_services1.prix_unitaire" class="inputMontant" @focusout="updateMontants()" @focus="$event.target.select()" onkeypress="return /[0-9]|[.]/g.test(event.key)"></md-input>CHF</md-field></td>
                  <template v-for="i in form_general.nb_batiments">
                    <td class="tg-0lax nombre batiment-separator notEditable"></td>
                    <td class="tg-0lax montant notEditable"></td>
                  </template>
                </tr>
                <tr>
                  <td class="tg-0lax" colspan="5">Total intermédiaire</td>
                  <td class="tg-0lax montant montantTotal alignRight">{{ total.montant_divers_total }} CHF</td>
                  <template v-for="i in form_general.nb_batiments">
                    <td class="tg-0lax nombre batiment-separator notEditable"></td>
                    <td class="tg-0lax montant notEditable"></td>
                  </template>
                </tr>
                <tr class="rowChapterDistinction">
                  <td class="chapter" rowspan="7" style="background-color: rgba(135, 206, 250, 0.5);">6. Registre foncier</td>
                  <td class="tg-0lax code">.1</td>
                  <td class="tg-0lax position">{{ form_detail.registreFoncier1.nom }}</td>
                  <td class="tg-0lax alignCenter unite">{{ form_detail.registreFoncier1.unite }}</td>
                  <td class="tg-0lax alignRight prix_unitaire">{{ form_detail.registreFoncier1.prix_unitaire }} CHF</td>
                  <td class="tg-0lax nombre"><md-field class="nbField"><md-input :disabled="disabled" v-model="form_detail.registreFoncier1.nombre" class="nbInput" v-bind:class="{ highlightEmolument: Number(form_detail.registreFoncier1.nombre)>0, hideNulls: Number(form_detail.registreFoncier1.nombre)==0 }" @keyup="updateMontants()" @focus="$event.target.select()" onkeypress="return /[0-9]|[.]/g.test(event.key)"></md-input></md-field></td>
                  <td class="tg-0lax montant alignRight"><span v-if="Number(form_detail.registreFoncier1.montant>0)">{{ form_detail.registreFoncier1.montant }} CHF</span></td>
                  <template v-for="i in form_general.nb_batiments">
                    <td class="tg-0lax nombre batiment-separator notEditable"></td>
                    <td class="tg-0lax montant notEditable"></td>
                  </template>
                </tr>
                <tr>
                  <td class="tg-0lax code">.2</td>
                  <td class="tg-0lax position">{{ form_detail.registreFoncier2.nom }}</td>
                  <td class="tg-0lax alignCenter unite">{{ form_detail.registreFoncier2.unite }}</td>
                  <td class="tg-0lax alignRight prix_unitaire">{{ form_detail.registreFoncier2.prix_unitaire }} CHF</td>
                  <td class="tg-0lax nombre"><md-field class="nbField"><md-input :disabled="disabled" v-model="form_detail.registreFoncier2.nombre" class="nbInput" v-bind:class="{ highlightEmolument: Number(form_detail.registreFoncier2.nombre)>0, hideNulls: Number(form_detail.registreFoncier2.nombre)==0 }" @keyup="updateMontants()" @focus="$event.target.select()" onkeypress="return /[0-9]|[.]/g.test(event.key)"></md-input></md-field></td>
                  <td class="tg-0lax montant alignRight"><span v-if="Number(form_detail.registreFoncier2.montant>0)">{{ form_detail.registreFoncier2.montant }} CHF</span></td>
                  <template v-for="i in form_general.nb_batiments">
                    <td class="tg-0lax nombre batiment-separator notEditable"></td>
                    <td class="tg-0lax montant notEditable"></td>
                  </template>
                </tr>
                <tr>
                  <td class="tg-0lax code">.3</td>
                  <td class="tg-0lax position">{{ form_detail.registreFoncier3.nom }}</td>
                  <td class="tg-0lax alignCenter unite">{{ form_detail.registreFoncier3.unite }}</td>
                  <td class="tg-0lax alignRight prix_unitaire">{{ form_detail.registreFoncier3.prix_unitaire }} CHF</td>
                  <td class="tg-0lax nombre"><md-field class="nbField"><md-input :disabled="disabled" v-model="form_detail.registreFoncier3.nombre" class="nbInput" v-bind:class="{ highlightEmolument: Number(form_detail.registreFoncier3.nombre)>0, hideNulls: Number(form_detail.registreFoncier3.nombre)==0 }" @keyup="updateMontants()" @focus="$event.target.select()" onkeypress="return /[0-9]|[.]/g.test(event.key)"></md-input></md-field></td>
                  <td class="tg-0lax montant alignRight"><span v-if="Number(form_detail.registreFoncier3.montant>0)">{{ form_detail.registreFoncier3.montant }} CHF</span></td>
                  <template v-for="i in form_general.nb_batiments">
                    <td class="tg-0lax nombre batiment-separator notEditable"></td>
                    <td class="tg-0lax montant notEditable"></td>
                  </template>
                </tr>
                <tr>
                  <td class="tg-0lax code"></td>
                  <td class="tg-0lax position">{{ form_detail.registreFoncier4.nom }}</td>
                  <td class="tg-0lax alignCenter unite">{{ form_detail.registreFoncier4.unite }}</td>
                  <td class="tg-0lax alignRight prix_unitaire">{{ form_detail.registreFoncier4.prix_unitaire }} CHF</td>
                  <td class="tg-0lax nombre"><md-field class="nbField"><md-input :disabled="disabled" v-model="form_detail.registreFoncier4.nombre" class="nbInput" v-bind:class="{ highlightEmolument: Number(form_detail.registreFoncier4.nombre)>0, hideNulls: Number(form_detail.registreFoncier4.nombre)==0 }" @keyup="updateMontants()" @focus="$event.target.select()" onkeypress="return /[0-9]|[.]/g.test(event.key)"></md-input></md-field></td>
                  <td class="tg-0lax montant alignRight"><span v-if="Number(form_detail.registreFoncier4.montant>0)">{{ form_detail.registreFoncier4.montant }} CHF</span></td>
                  <template v-for="i in form_general.nb_batiments">
                    <td class="tg-0lax nombre batiment-separator notEditable"></td>
                    <td class="tg-0lax montant notEditable"></td>
                  </template>
                </tr>
                <tr>
                  <td class="tg-0lax code"></td>
                  <td class="tg-0lax position">{{ form_detail.registreFoncier5.nom }}</td>
                  <td class="tg-0lax alignCenter unite">{{ form_detail.registreFoncier5.unite }}</td>
                  <td class="tg-0lax alignRight prix_unitaire">{{ form_detail.registreFoncier5.prix_unitaire }} CHF</td>
                  <td class="tg-0lax nombre"><md-field class="nbField"><md-input :disabled="disabled" v-model="form_detail.registreFoncier5.nombre" class="nbInput" v-bind:class="{ highlightEmolument: Number(form_detail.registreFoncier5.nombre)>0, hideNulls: Number(form_detail.registreFoncier5.nombre)==0 }" @keyup="updateMontants()" @focus="$event.target.select()" onkeypress="return /[0-9]|[.]/g.test(event.key)"></md-input></md-field></td>
                  <td class="tg-0lax montant alignRight"><span v-if="Number(form_detail.registreFoncier5.montant>0)">{{ form_detail.registreFoncier5.montant }} CHF</span></td>
                  <template v-for="i in form_general.nb_batiments">
                    <td class="tg-0lax nombre batiment-separator notEditable"></td>
                    <td class="tg-0lax montant notEditable"></td>
                  </template>
                </tr>
                <tr>
                  <td class="tg-0lax code"></td>
                  <td class="tg-0lax position" colspan="4">{{ form_detail.forfait_rf1.nom }}</td>
                  <td class="tg-0lax montant"><md-field class="nbField"><md-input :disabled="disabled" v-model="form_detail.forfait_rf1.prix_unitaire" class="inputMontant" @focusout="updateMontants()" @focus="$event.target.select()" onkeypress="return /[0-9]|[.]/g.test(event.key)"></md-input>CHF</md-field></td>
                  <template v-for="i in form_general.nb_batiments">
                    <td class="tg-0lax nombre batiment-separator notEditable"></td>
                    <td class="tg-0lax montant notEditable"></td>
                  </template>
                </tr>
                <tr>
                  <td class="tg-0pky" colspan="5">Total intermédiaire</td>
                  <td class="tg-0pky montant alignRight">{{ total.montant_rf_total }} CHF</td>
                  <template v-for="i in form_general.nb_batiments">
                    <td class="tg-0lax nombre batiment-separator notEditable"></td>
                    <td class="tg-0lax montant notEditable"></td>
                  </template>
                </tr>
              </tbody>
            </table>
          </md-tab>


          <md-tab md-label="Récapitulatif" ref="tabRecapitulatif">
            <table class="tg customTable" id="tableau_recapitulatif_form">
              <thead class="customTableHead">
                <tr>
                  <th class="tg-0lax alignCenter position_recapitulatif">Domaine</th>
                  <th class="tg-0lax alignCenter number">Indice</th>
                  <th class="tg-0lax alignCenter montant">Montant</th>
                  <th class="tg-0lax alignCenter montant">Total</th>
                </tr>
              </thead>
              <tbody class="customTableBody">
                <tr>
                  <td class="tg-0lax" colspan="2">Mandat</td>
                  <td class="tg-0lax montant alignRight">{{ total.montant_recapitulatif_mandat }} CHF</td>
                  <td class="tg-0lax montant alignRight">{{ total.montant_recapitulatif_somme1 }} CHF</td>
                </tr>
                <tr>
                  <td class="tg-0lax" colspan="2">Travaux de terrain. matérialisation, déplacements et débours</td>
                  <td class="tg-0lax montant alignRight">{{ total.montant_recapitulatif_terrain_materialisation_deplacements }} CHF</td>
                  <td class="tg-0lax montant alignRight">{{ total.montant_recapitulatif_somme2 }} CHF</td>
                </tr>
                <tr>
                  <td class="tg-0lax" colspan="2">Travaux de bureau</td>
                  <td class="tg-0lax montant alignRight">{{ total.montant_recapitulatif_bureau }} CHF</td>
                  <td class="tg-0lax montant alignRight">{{ total.montant_recapitulatif_somme3 }} CHF</td>
                </tr>
                <tr>
                  <td class="tg-0lax position_recapitulatif">Indice d'application</td>
                  <td class="tg-0lax number"><md-field class="nbField"><md-input :disabled="disabled || !permission.editEmolumentIndiceApplication" class="nbInput" v-model="form_general.indice_application" @keyup="updateRecapitulatif()"></md-input></md-field></td>
                  <td class="tg-0lax montant alignRight">{{ total.montant_recapitulatif_indice_application }} CHF</td>
                  <td class="tg-0lax montant alignRight">{{ total.montant_recapitulatif_somme4 }} CHF</td>
                </tr>
                <tr>
                  <td class="tg-0lax" colspan="2">Matériel, travaux selon le temps consacré et relations avec d'autres services</td>
                  <td class="tg-0lax montant alignRight">{{ total.montant_recapitulatif_materiel_divers }} CHF</td>
                  <td class="tg-0lax montant alignRight">{{ total.montant_recapitulatif_somme5 }} CHF</td>
                </tr>
                <tr>
                  <td class="tg-0lax" colspan="2">Matérialisation différée des limites y compris indice d'application</td>
                  <td class="tg-0lax montant alignRight">{{ total.montant_recapitulatif_matdiff }} CHF</td>
                  <td class="tg-0lax montant alignRight">{{ total.montant_recapitulatif_somme6 }} CHF</td>
                </tr>
                <tr>
                  <td class="tg-0lax position_recapitulatif">TVA</td>
                  <td class="tg-0lax number"><md-field class="nbField"><md-input :disabled="disabled || !permission.editEmolumentTva" class="nbInput" v-model="form_general.tva_pc" @keyup="updateRecapitulatif()"></md-input>%</md-field></td>
                  <td class="tg-0lax montant alignRight">{{ total.montant_recapitulatif_tva }} CHF</td>
                  <td class="tg-0lax montant alignRight">{{ total.montant_recapitulatif_somme7 }} CHF</td>
                </tr>
                <tr>
                  <td class="tg-0lax" colspan="2">Inscription au registre foncier</td>
                  <td class="tg-0lax montant alignRight">{{ total.montant_recapitulatif_registre_foncier }} CHF</td>
                  <td class="tg-0lax montant notEditable"></td>
                </tr>
                <tr>
                  <td class="tg-0pky" colspan="3">Montant total du mandat</td>
                  <td class="tg-0pky montant montantTotal alignRight">{{ total.montant_recapitulatif_total }} CHF</td>
                </tr>
              </tbody>
            </table>
          </md-tab>


          <md-tab md-label="Memento" ref="tabMemento">
            <div class="md-layout md-gutter md-alignment-top-left">
              <div class="md-layout-item">
                <md-card>
                  <md-card-header>
                    <div class="md-title">Montant mat diff</div>
                  </md-card-header>
                  <md-card-content>
                    Calcul du montant au point 3.4:
                    <ul style="margin: 0px;">
                      <li>De 1 à 5 points:  prix_unitaire{{ form_detail.travauxMaterialisation14.prix_unitaire }}CHF / PCE</li>
                      <li>De 6 à 10 points:  prix_unitaire{{ form_detail.travauxMaterialisation15.prix_unitaire }}CHF / PCE</li>
                      <li>De 11 à 15 points:  prix_unitaire{{ form_detail.travauxMaterialisation16.prix_unitaire }}CHF / PCE</li>
                      <li>Plus de 16 points:  prix_unitaire{{ form_detail.travauxMaterialisation17.prix_unitaire }}CHF / PCE</li>
                    </ul>
                  </md-card-content>
                </md-card>
              </div>
              <div class="md-layout-item">
                <md-card>
                  <md-card-header>
                    <div class="md-title">Tarif horaire</div>
                  </md-card-header>
                  <md-card-content>
                    Tarif horaire selon le titre (pour les divers):
                    <ul style="margin: 0px;">
                      <li>182 CHF - Géomètre cantonal·e</li>
                      <li>157 CHF - Ingénieur·e en géomatique</li>
                      <li>133 CHF - Technicien·ne en géomatique / spécialiste qualifié·e</li>
                      <li>111 CHF - Géomaticien·ne</li>
                      <li>101 CHF - Collaborateur·rice technique</li>
                      <li>97 CHF - Personnel de secrétariat</li>
                      <li>73 CHF - Apprenant·e</li>
                    </ul>
                  </md-card-content>
                </md-card>
              </div>
            </div>
          </md-tab>
        </md-tabs>

      </md-dialog-content>

      <md-dialog-actions>
        <md-button class="md-elevation-3 md-accent" @click="onCancel">Fermer</md-button>
        <md-button class="md-elevation-3 md-primary" @click="postEmolument" :disabled="disabled">Enregistrer</md-button>
      </md-dialog-actions>
    </md-dialog>


    <md-dialog-confirm
      :md-active.sync="confirmationRemoveDialog.show"
      :md-title="confirmationRemoveDialog.title"
      :md-content="confirmationRemoveDialog.msg"
      :md-confirm-text="confirmationRemoveDialog.confirmBtn"
      :md-cancel-text="confirmationRemoveDialog.cancelBtn"
      @md-cancel="confirmationRemoveDialog.onCancel"
      @md-confirm="confirmationRemoveDialog.onConfirm" />
</div>